(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bankCard"],{3697:function(t,e,a){"use strict";var n=a("a9b3"),r=a.n(n);r.a},4346:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bankcard-container"},[a("TheHeader",{attrs:{title:t.$t("bankCard.NewCard"),"left-arrow":"",leftClick:t.goBack}}),a("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("bankCard.AccountName")))]},proxy:!0},{key:"right",fn:function(){return[a("div",{staticClass:"username-ellipsis"},[t._v(t._s(t.omitInfo(t.userName)))])]},proxy:!0}])}),a("div",{staticClass:"van-cell"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("bankCard.accountType")))])]),a("div",{staticClass:"van-cell"},[a("BaseSelector",{attrs:{columns:t.accountTypeList,valueKey:"id",presentKey:"name",value:t.accountType.id},on:{confirm:t.onAccountTypeSelect}})],1),a("van-form",{ref:"formRef",attrs:{"validate-trigger":"onChange"},on:{submit:t.onSubmit}},[a("div",{staticClass:"van-cell"},[a("div",{staticClass:"title"},[t._v(t._s(0===t.accountType.id?t.$t("bankCard.OpenBank"):t.$t("bankCard.chainType")))])]),a("div",{staticClass:"van-cell"},[a("BaseSelector",{attrs:{columns:t.bankList,valueKey:"id",presentKey:"name",value:t.activeBank.id},on:{confirm:t.onSelect}})],1),t._l(t.formFields,(function(e){return a("TransparentFieldInput",{key:e.name,attrs:{maxlength:e.maxlength,validatedState:e.validatedState,placeholder:e.placeholder,bind:e},on:{blur:function(t){e.blur&&e.blur(e)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"field.value"}})})),a("div",{staticClass:"van-cell"},[a("van-checkbox",{model:{value:t.isMainCard,callback:function(e){t.isMainCard=e},expression:"isMainCard"}},[t._v(t._s(t.$t("bankCard.TheMainCardSet")))])],1),a("div",{staticClass:"van-cell"},[a("van-button",{staticClass:"submit-btn",attrs:{type:"submit"}},[t._v(t._s(t.$t("Confirm")))])],1)],2)],1)},r=[],i=a("f2dc");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={name:"BankCard",data:function(){var t=this;return{bankList:[],isMainCard:!1,userName:"",activeBank:{},accountType:{id:0,name:function(){return t.$t("cardList.BankCard")}},accountTypeList:[{id:0,name:function(){return t.$t("cardList.BankCard")}},{id:1,name:function(){return"USDT"}}],formFields:[{name:"BankCardNumber",value:"",label:this.$t("bankCard.BankCardNumber"),maxlength:20,placeholder:this.$t("bankCard.PleaseEnterTheBankCardNumber"),rules:[{required:!0,message:this.$t("bankCard.PleaseEnterTheBankCardNumber")},{message:this.$t("bankCard.NumberOnly"),validator:function(t){return i["a"].number(t).flag}}]}]}},watch:{accountType:function(t){0===t.id?(this.init(),this.formFields=[{name:"BankCardNumber",value:"",label:this.$t("bankCard.BankCardNumber"),maxlength:20,placeholder:this.$t("bankCard.PleaseEnterTheBankCardNumber"),rules:[{required:!0,message:this.$t("bankCard.PleaseEnterTheBankCardNumber")},{message:this.$t("bankCard.NumberOnly"),validator:function(t){return i["a"].number(t).flag}}]}]):(this.formFields=[{name:"accountNumber",value:"",label:this.$t("bankCard.withdrawAddress"),placeholder:this.$t("bankCard.enterWithDrawAddress"),rules:[{required:!0,message:this.$t("bankCard.enterWithDrawAddress")}]}],this.bankList=[{id:0,name:function(){return"TRC20"}},{id:1,name:function(){return"ERC20"}}])}},methods:{init:function(){var t=this;this.$api.my.getPerInfo({body:{}},(function(e){t.userName=e.data.realname})),this.$api.cardList.getCardList({body:{}},(function(e){t.bankList=e.data.list.map((function(t){return u(u({},t),{},{name:function(){return t.name}})})),t.activeBank=t.bankList[0]}))},getParam:function(){return 0===this.accountType.id?{accountType:1,accountNumber:this.formFields[0].value,bankId:this.activeBank.id,accountAddress:"none",mainCard:!0===this.isMainCard?1:0}:{accountType:4,accountNumber:this.formFields[0].value,accountAddress:0===this.activeBank.id?"TRC20":"ERC20",mainCard:!0===this.isMainCard?1:0}},onSelect:function(t){this.activeBank=t},onChainTypeSelect:function(t){this.activeChainType=t},onAccountTypeSelect:function(t){0===t.id?(this.init(),this.formFields=[{name:"BankCardNumber",value:"",label:this.$t("bankCard.BankCardNumber"),maxlength:20,placeholder:this.$t("bankCard.PleaseEnterTheBankCardNumber"),rules:[{required:!0,message:this.$t("bankCard.PleaseEnterTheBankCardNumber")},{message:this.$t("bankCard.NumberOnly"),validator:function(t){return i["a"].number(t).flag}}]}]):(this.formFields=[{name:"accountNumber",value:"",label:this.$t("bankCard.withdrawAddress"),placeholder:this.$t("bankCard.enterWithDrawAddress"),rules:[{required:!0,message:this.$t("bankCard.enterWithDrawAddress")}]}],this.bankList=[{id:0,name:function(){return"TRC20"}},{id:1,name:function(){return"ERC20"}}]),this.accountType=t,this.activeBank=this.bankList[0]},onSubmit:function(){var t=this,e=this.getParam();this.$api.cardList.addWithdrawAccount({body:e},(function(){var e=t.$route.query.redirect,a="";e?(a=e,t.$cf.showSuccessMessageDialog(t.$t("bankCard.TheBindingIsSuccessfulReturn"))):(a="/cardList",t.$cf.showSuccessMessageDialog(t.$t("bankCard.TheBindingIsSuccessfulReturnToTheList"))),setTimeout((function(){t.$router.push({path:a})}),1e3)}))},goBack:function(){this.$router.push("/cardList")},omitInfo:function(t){if(void 0!==t){if(t.length>=32){var e=t.substring(0,31);return"".concat(e," ...")}return t}return"--"}},created:function(){this.init()}},l=o,d=(a("3697"),a("2877")),f=Object(d["a"])(l,n,r,!1,null,null,null);e["default"]=f.exports},a9b3:function(t,e,a){},f2dc:function(t,e,a){"use strict";var n=a("72f2");e["a"]={strnumDa6:function(t){var e=/^[a-zA-Z0-9]{6,}$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入6位以上数字或字母"}},passwordValid:function(t){var e=/^[a-zA-Z0-9_]{6,}$/,a=new RegExp(e);return{flag:a.test(t),text:"格式須由 6~16 位半形英数字及下底線组成"}},BDYPasswordValid:function(t){var e=/^[a-zA-Z0-9]{6,16}$/,a=new RegExp(e);return{flag:a.test(t),text:"格式須由 6~16 位半形英数字"}},BFDrawNumber:function(t){var e=/^[0-9]{4,8}$/,a=new RegExp(e);return{flag:a.test(t),text:"格式错误，请设定 4~8 位数字密码"}},BDYDrawNumber:function(t){var e=/^[0-9]{6,}$/,a=new RegExp(e);return{flag:a.test(t),text:"格式错误，请设定 6 位数字密码"}},BFAccount:function(t){var e=/^BF[a-zA-Z0-9]{4,}$/,a=new RegExp(e);return{flag:a.test(t),text:"帐号格式必须为BF开头且符合 6~14 位"}},EDFAccount:function(t){var e=/^EDF[a-zA-Z0-9]{4,}$/,a=new RegExp(e);return{flag:a.test(t),text:"帐号格式必须为EDF开头且符合 6~14 位"}},BDYAcount:function(t){var e=/^[a-zA-Z0-9]{4,12}$/,a=new RegExp(e);return{flag:a.test(t),text:"帐号长度必须为 4~12 位半形英数字"}},THAcount:function(t){var e=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9]{6,10}$/,a=new RegExp(e);return{flag:a.test(t),text:"账号格式为6-10位英文+数字的組合"}},THAcountLogin:function(t){var e=/^[a-zA-Z0-9]{6,10}$/,a=new RegExp(e);return{flag:a.test(t),text:"账号格式为6-10位英文+数字的組合"}},LOAccountLogin:function(t){var e=/^LE[a-zA-Z0-9]{6,10}$/,a=new RegExp(e);return{flag:a.test(t),text:"帐号格式必须为LE开头且符合 8~12 位"}},THPasswordValid:function(t){var e=/^[a-zA-Z0-9_]{6,16}$/,a=new RegExp(e);return{flag:a.test(t),text:"密码格式为6-16位英数字及 '_'"}},THRealName:function(t){var e=/^[a-zA-Z\u4E00-\u9FA5\u0E01-\u0E5B ]{2,128}$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入汉字"}},phoneNum:function(t,e,a,n){var r;if(t){r=a?this[a.ruleName](t,e,n):this.phoneNumRuleCN(t,e,n);var i=a?this[a.blackRuleName](t,e,n):this.phoneBlackListCN(t,e,n);return i.flag||(r=i),r}},phoneNumRuleTH:function(t){var e=/^\d{9,10}$/,a=new RegExp(e);return{flag:a.test(t),text:"手机号码格式错误"}},phoneNumRuleCN:function(t){var e=/^1\d{10}$/,a=new RegExp(e);return{flag:a.test(t)&&11===t.length&&t.startsWith("1"),text:"手机号码格式错误"}},phoneBlackListCN:function(t,e,a){e=e||n["a"].state.notAllowPhoneNumber,a=a||n["a"].state.nationCode;var r=a;a||(r=""===a?"86":"66");var i=[],s=!0;e.split("|").forEach((function(t){var e=t.split("-");e.length<2&&(s=!1),e[0]===r&&i.push(e[1])}));var u=s?i.join("|"):e,c="^(".concat(u,"){1,}[0-9]{8,9}$"),o=new RegExp(c);return{flag:!o.test(t)&&11===t.length&&t.startsWith("1"),text:"手机号码无法使用，请联系客服"}},phoneBlackListTH:function(t,e,a){e=e||n["a"].state.notAllowPhoneNumber,a=a||n["a"].state.nationCode;var r=a;a||(r=""===a?"86":"66");var i=[],s=!0;e.split("|").forEach((function(t){var e=t.split("-");e.length<2&&(s=!1),e[0]===r&&i.push(e[1])}));var u=s?i.join("|"):e,c="^(".concat(u,"){1,}[0-9]{6,8}$"),o=new RegExp(c);return{flag:!o.test(t),text:"手机号码无法使用，请联系客服"}},email:function(t){var e=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入正确的邮箱号码格式"}},yuming:function(t){var e=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\/.?/,a=new RegExp(e);return{flag:a.test(t),text:"请输入正确的域名格式"}},shenfenz:function(t){var e=/(^d{15}$)|(^d{17}([0-9]|X)$)/,a=new RegExp(e);return{flag:a.test(t),text:"请输入正确的身份证号码格式"}},number:function(t){var e=/^[0-9]*$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入数字"}},hanzi:function(t){var e=/^[\u4e00-\u9fa5·．]{0,}$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入汉字"}},BDYRealName:function(t){var e=/^[\u4e00-\u9fa5·．]{2,}$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入汉字"}},strnum:function(t){var e=/^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$/,a=new RegExp(e);return{flag:a.test(t),text:"请输入数字或字母"}},noFullWidth:function(t){var e=/[\uff00-\uffff]/g,a=new RegExp(e);return{flag:!a.test(t),text:"格式错误，不可包含全形"}},validYoung:function(t){var e=new Date,a=new Date(t),n=e.getFullYear()-a.getFullYear(),r=e.getMonth()-a.getMonth();return(r<0||0===r&&e.getDate()<a.getDate())&&(n-=1),{flag:n>=18,text:"未满18岁，无法注册"}},specialCharacters:function(t){var e=/^[A-Za-z0-9\u4e00-\u9fa5]{1,20}$/,a=new RegExp(e);return{flag:a.test(t),text:"格式错误，限中、英、数字"}}}}}]);