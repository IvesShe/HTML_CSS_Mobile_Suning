(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-588fa884"],{"6e5d":function(a,t,e){},b0bb:function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("BaseScroller",{attrs:{"scroller-height":a.scrollerHeight}},[e("van-list",{attrs:{finished:a.finished,offset:"100","immediate-check":!1},on:{load:a.onLoad},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},[e("CalendarPicker",{attrs:{start:a.startTime,end:a.endTime,"min-date":a.$dateFun.getDateByDay(-60),"max-date":a.$dateFun.getDateByDay(),"max-range":"80"},on:{confirm:a.onDateConfirm}}),a._l(a.data,(function(t){return e(a.cardComponent,{key:t.id,tag:"component",attrs:{item:t}})}))],2),0===a.data.length?e("NoData"):a._e(),e("Pagination",{key:a.paginationKey,attrs:{isShow:a.isPaginationShow,isLoading:a.isPaginationLoading},on:{click:a.pagingFn}})],1)},n=[],s=e("a79b"),d=e("861e"),o={name:"TransactionRecordPage",props:{pageItem:{type:Object,default(){return{type:1,name:"",apiName:""}}}},data(){return{data:[],pageNum:1,pageSize:5,paginationKey:1,pagepaginationKeySize:1,startTime:this.$dateFun.getDateByDay(-7),endTime:this.$dateFun.getDateByDay(),finished:!0,loading:!1,isPaginationShow:!1,isPaginationLoading:!1,scrollerHeight:"calc(100vh - 162px)",debounceDo:Object(s["b"])(this.getData,200)}},computed:{cardComponent(){const a=Object(d["TransactionTypeEnums"])(this.pageItem.type);switch(a){case"Recharge":return"CardDeposit";case"Transfer":return"CardTransfer";case"Withdrawal":return"CardWithdrawal";case"Discount":return"CardDiscount";case"Bonus":return"CardBonus";case"Commission":return"CardCommission";default:return"CardDeposit"}}},mounted(){this.getData()},methods:{onLoad(){this.pageNum++,this.debounceDo()},showDatePicker(){this.$refs.datePicker.showDate=!0},onDateConfirm(a){this.paginationKey++;const[t,e]=a;this.startTime=t,this.endTime=e,this.getData()},getData(){this.$api.cardList[this.pageItem.apiName]({body:{event:this.pageItem.type,startTime:this.$dateFun.formatDate(this.startTime,"yyyy-MM-dd"),endTime:this.$dateFun.formatDate(this.endTime,"yyyy-MM-dd")},pageBean:{page:this.pageNum,pageSize:this.pageSize}},a=>{var t;this.data=(null===(t=a.data)||void 0===t?void 0:t.data)||[],this.isPaginationShow=a.data.hasNextPage,a.data.hasNextPage&&(this.isPaginationShow=!0),this.isPaginationLoading=!1,this.$forceUpdate()})},pagingFn({currentPage:a}){this.isPaginationLoading=!0,this.$api.cardList[this.pageItem.apiName]({body:{event:this.pageItem.type,startTime:this.$dateFun.formatDate(this.startTime,"yyyy-MM-dd"),endTime:this.$dateFun.formatDate(this.endTime,"yyyy-MM-dd")},pageBean:{page:a,pageSize:this.pageSize}},a=>{var t;this.data=[...this.data,...null===(t=a.data)||void 0===t?void 0:t.data],this.isPaginationShow=a.data.hasNextPage,a.data.hasNextPage&&(this.isPaginationShow=!0),this.$forceUpdate(),this.isPaginationLoading=!1},()=>{this.isPaginationLoading=!1})}},components:{CardDeposit:()=>e.e("chunk-13b79ef6").then(e.bind(null,"9d9d")),CardCommission:()=>e.e("chunk-7770fb25").then(e.bind(null,"1718")),CardDiscount:()=>e.e("chunk-6a6a6714").then(e.bind(null,"c61b")),CardTransfer:()=>e.e("chunk-3824153b").then(e.bind(null,"5a26")),CardWithdrawal:()=>e.e("chunk-22fb765a").then(e.bind(null,"df65")),CardBonus:()=>e.e("chunk-dcfcbec4").then(e.bind(null,"e1fe")),CalendarPicker:()=>e.e("chunk-39911548").then(e.bind(null,"c8e3")),NoData:()=>e.e("chunk-1fd74a74").then(e.bind(null,"6066")),Pagination:()=>e.e("chunk-2d0c08b4").then(e.bind(null,"41de"))}},r=o,h=(e("f69d"),e("2877")),c=Object(h["a"])(r,i,n,!1,null,"87f6bf10",null);t["default"]=c.exports},f69d:function(a,t,e){"use strict";var i=e("6e5d"),n=e.n(i);n.a}}]);