(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{9470:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("TheHeader",{staticClass:"transparent",attrs:{"left-arrow":"",leftClick:e.goHome}}),a("div",{staticClass:"logo-img-box"},[a("img",{attrs:{src:n("c011"),alt:""}})]),a("div",{staticClass:"login-form-box"},[a("div",{staticClass:"box-title"},[e._v(e._s(e.$t("register.SignIn")))]),a("div",{staticClass:"box-summery"},[a("p",[e._v(e._s(e.$t("login.UltimateExperience")))])]),a("LineButton",{on:{click:e.lineLogin}}),e._m(0),a("van-form",{ref:"formRef",staticClass:"login-form",attrs:{"validate-trigger":"onChange"},on:{submit:e.onSubmit}},[e._l(e.formFields,(function(t){return a("van-field",e._b({key:t.name,scopedSlots:e._u([{key:"input",fn:function(){return[a("CustomVanFieldInput",{attrs:{useInvisibility:t.useInvisibility,maxlength:t.maxlength,usePrefix:t.usePrefix,useStateIcon:!1,prefixText:t.prefixText,inputClass:t.inputClass,placeholder:t.placeholder,type:t.type},on:{"update:type":function(n){return e.$set(t,"type",n)},input:function(n){return e.onInput(t)},blur:function(e){t.blur&&t.blur(t)}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"field.value"}})]},proxy:!0}],null,!0)},"van-field",t,!1))})),a("div",{staticClass:"checkbox-block"},[a("van-checkbox",{attrs:{shape:"square","checked-color":"#4ca3fe"},model:{value:e.isRememberChecked,callback:function(t){e.isRememberChecked=t},expression:"isRememberChecked"}},[e._v(e._s(e.$t("login.RememberPassword")))])],1),a("a",{staticClass:"forget-pwd-link",on:{click:function(t){return t.preventDefault(),e.$router.push({path:"/found1"})}}},[e._v(e._s(e.$t("login.ForgotyourPassword")))]),a("van-button",{staticClass:"submit-btn",attrs:{type:"submit"}},[e._v(e._s(e.$t("login.Login")))]),a("p",{staticClass:"sign-up-link-para"},[e._v(" "+e._s(e.$t("login.NoAccount"))+" "),a("a",{staticClass:"sign-up-link",on:{click:function(t){return t.preventDefault(),e.$router.push({path:"/register"})}}},[e._v(e._s(e.$t("login.FastRegistration")))])])],2)],1),a("van-dialog",{staticClass:"slide-verify",attrs:{showConfirmButton:!1},model:{value:e.isShowVerifyImageDialog,callback:function(t){e.isShowVerifyImageDialog=t},expression:"isShowVerifyImageDialog"}},[a("SlideVerifyWithClose",{ref:"slideContainer",attrs:{imgs:e.imgs},on:{success:e.onImgValidateSuccess,close:e.onSlideVerifyClose}})],1)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"divider"},[n("span",{staticClass:"divider-front"}),n("span",{staticClass:"divider-text"},[e._v("OR")]),n("span",{staticClass:"divider-end"})])}],r=n("f2dc"),s=n("2f62"),o=n("9059"),l=n("f9a9");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={name:"Login",data:function(){return{isRememberChecked:!1,verifyCode:1,isShowVerifyImageDialog:!1,isSubmitBtnDisable:!0,imgs:[],formFields:[{name:"username",value:"",label:this.$t("login.MemberAccount"),labelClass:"no-text field-icon-account",useInvisibility:!1,maxlength:10,type:"username",private:!0,placeholder:this.$t("login.AlphanumericAccount"),blur:function(e){e.value=e.value.toUpperCase()},rules:[{required:!0,message:this.$t("login.AccountInputPlaceHolder")},{message:this.$t("login.AccountFormatWarning"),validator:function(e){if(e)return r["a"].THAcountLogin(e).flag}}]},{name:"userpass",value:"",label:this.$t("login.LoginPassword"),labelClass:"no-text field-icon-password",maxlength:16,useInvisibility:!0,type:"password",private:!0,placeholder:this.$t("login.AlphanumericPwd"),rules:[{required:!0,message:this.$t("login.PasswordInputPlaceHolder")},{message:this.$t("login.PwdFormatWarning"),validator:function(e){return r["a"].THPasswordValid(e).flag}}]}]}},created:function(){localStorage.getItem("username")&&localStorage.getItem("userpass")&&(this.formFields[0].value=localStorage.getItem("username"),this.formFields[1].value=o["a"].decrypt(localStorage.getItem("userpass")),this.isRememberChecked=!0,this.isSubmitBtnDisable=!1),this.imgs=this.$cf.getSlideImg()},methods:c(c({},Object(s["b"])(["doLogin"])),{},{onSubmit:function(){var e=this;this.$api.login.verifyCode({body:{username:this.formFields[0].value}},(function(t){e.verifyCode=t.data.code,0===e.verifyCode?e.isShowVerifyImageDialog=!0:e.login()}))},onInput:function(){var e=this;this.$refs.formRef.validate().then((function(){e.isSubmitBtnDisable=!1})).catch((function(){e.isSubmitBtnDisable=!0}))},login:function(){var e=this;this.isRememberChecked&&(localStorage.setItem("username",this.formFields[0].value),localStorage.setItem("userpass",o["a"].encrypt(this.formFields[1].value))),this.$api.login.signin({body:{username:this.formFields[0].value,userpass:this.formFields[1].value}},(function(t){e.doLogin(t.data),window.gtag("event","登入"),e.$nextTick().then((function(){var t=e.$route.query.redirect;t?e.$router.push({path:t}):e.$router.push("/"),e.getMemberDialogMessages(),e.getUnAuthItems()}))}),(function(t){e.$cf.toast(t.message)}))},lineLogin:function(){Object(l["a"])()},onSlideVerifyClose:function(){this.isShowVerifyImageDialog=!1,this.$refs.slideContainer.$refs.slideblock.reset()},onImgValidateSuccess:function(){this.isShowVerifyImageDialog=!1;var e=this.$refs.slideContainer.$refs.slideblock;e.reset(),this.login()},getUnAuthItems:function(){this.$store.dispatch("getPendingAuth",{vm:this})},getMemberDialogMessages:function(){this.$store.dispatch("showNewMessage",{vm:this})},handleSwitch:function(e){e?this.formFields[0].value&&this.formFields[1].value&&(localStorage.setItem("username",this.formFields[0].value),localStorage.setItem("userpass",o["a"].encrypt(this.formFields[1].value))):(localStorage.removeItem("username"),localStorage.removeItem("userpass"))},goHome:function(){this.$router.push("/")}}),components:{CustomVanFieldInput:function(){return n.e("chunk-50b477c4").then(n.bind(null,"5623"))},SlideVerifyWithClose:function(){return n.e("chunk-3c54145e").then(n.bind(null,"cb51"))},LineButton:function(){return n.e("chunk-d0b69c88").then(n.bind(null,"d1f3"))}}},p=g,d=(n("ad52"),n("2877")),m=Object(d["a"])(p,a,i,!1,null,null,null);t["default"]=m.exports},ad52:function(e,t,n){"use strict";var a=n("be7c"),i=n.n(a);i.a},be7c:function(e,t,n){},c011:function(e,t,n){e.exports=n.p+"img/logo.f3296670.svg"},f2dc:function(e,t,n){"use strict";var a=n("72f2");t["a"]={strnumDa6:function(e){var t=/^[a-zA-Z0-9]{6,}$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入6位以上数字或字母"}},passwordValid:function(e){var t=/^[a-zA-Z0-9_]{6,}$/,n=new RegExp(t);return{flag:n.test(e),text:"格式須由 6~16 位半形英数字及下底線组成"}},BDYPasswordValid:function(e){var t=/^[a-zA-Z0-9]{6,16}$/,n=new RegExp(t);return{flag:n.test(e),text:"格式須由 6~16 位半形英数字"}},BFDrawNumber:function(e){var t=/^[0-9]{4,8}$/,n=new RegExp(t);return{flag:n.test(e),text:"格式错误，请设定 4~8 位数字密码"}},BDYDrawNumber:function(e){var t=/^[0-9]{6,}$/,n=new RegExp(t);return{flag:n.test(e),text:"格式错误，请设定 6 位数字密码"}},BFAccount:function(e){var t=/^BF[a-zA-Z0-9]{4,}$/,n=new RegExp(t);return{flag:n.test(e),text:"帐号格式必须为BF开头且符合 6~14 位"}},EDFAccount:function(e){var t=/^EDF[a-zA-Z0-9]{4,}$/,n=new RegExp(t);return{flag:n.test(e),text:"帐号格式必须为EDF开头且符合 6~14 位"}},BDYAcount:function(e){var t=/^[a-zA-Z0-9]{4,12}$/,n=new RegExp(t);return{flag:n.test(e),text:"帐号长度必须为 4~12 位半形英数字"}},THAcount:function(e){var t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9]{6,10}$/,n=new RegExp(t);return{flag:n.test(e),text:"账号格式为6-10位英文+数字的組合"}},THAcountLogin:function(e){var t=/^[a-zA-Z0-9]{6,10}$/,n=new RegExp(t);return{flag:n.test(e),text:"账号格式为6-10位英文+数字的組合"}},LOAccountLogin:function(e){var t=/^LE[a-zA-Z0-9]{6,10}$/,n=new RegExp(t);return{flag:n.test(e),text:"帐号格式必须为LE开头且符合 8~12 位"}},THPasswordValid:function(e){var t=/^[a-zA-Z0-9_]{6,16}$/,n=new RegExp(t);return{flag:n.test(e),text:"密码格式为6-16位英数字及 '_'"}},THRealName:function(e){var t=/^[a-zA-Z\u4E00-\u9FA5\u0E01-\u0E5B ]{2,128}$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入汉字"}},phoneNum:function(e,t,n,a){var i;if(e){i=n?this[n.ruleName](e,t,a):this.phoneNumRuleCN(e,t,a);var r=n?this[n.blackRuleName](e,t,a):this.phoneBlackListCN(e,t,a);return r.flag||(i=r),i}},phoneNumRuleTH:function(e){var t=/^\d{9,10}$/,n=new RegExp(t);return{flag:n.test(e),text:"手机号码格式错误"}},phoneNumRuleCN:function(e){var t=/^1\d{10}$/,n=new RegExp(t);return{flag:n.test(e)&&11===e.length&&e.startsWith("1"),text:"手机号码格式错误"}},phoneBlackListCN:function(e,t,n){t=t||a["a"].state.notAllowPhoneNumber,n=n||a["a"].state.nationCode;var i=n;n||(i=""===n?"86":"66");var r=[],s=!0;t.split("|").forEach((function(e){var t=e.split("-");t.length<2&&(s=!1),t[0]===i&&r.push(t[1])}));var o=s?r.join("|"):t,l="^(".concat(o,"){1,}[0-9]{8,9}$"),u=new RegExp(l);return{flag:!u.test(e)&&11===e.length&&e.startsWith("1"),text:"手机号码无法使用，请联系客服"}},phoneBlackListTH:function(e,t,n){t=t||a["a"].state.notAllowPhoneNumber,n=n||a["a"].state.nationCode;var i=n;n||(i=""===n?"86":"66");var r=[],s=!0;t.split("|").forEach((function(e){var t=e.split("-");t.length<2&&(s=!1),t[0]===i&&r.push(t[1])}));var o=s?r.join("|"):t,l="^(".concat(o,"){1,}[0-9]{6,8}$"),u=new RegExp(l);return{flag:!u.test(e),text:"手机号码无法使用，请联系客服"}},email:function(e){var t=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入正确的邮箱号码格式"}},yuming:function(e){var t=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\/.?/,n=new RegExp(t);return{flag:n.test(e),text:"请输入正确的域名格式"}},shenfenz:function(e){var t=/(^d{15}$)|(^d{17}([0-9]|X)$)/,n=new RegExp(t);return{flag:n.test(e),text:"请输入正确的身份证号码格式"}},number:function(e){var t=/^[0-9]*$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入数字"}},hanzi:function(e){var t=/^[\u4e00-\u9fa5·．]{0,}$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入汉字"}},BDYRealName:function(e){var t=/^[\u4e00-\u9fa5·．]{2,}$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入汉字"}},strnum:function(e){var t=/^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$/,n=new RegExp(t);return{flag:n.test(e),text:"请输入数字或字母"}},noFullWidth:function(e){var t=/[\uff00-\uffff]/g,n=new RegExp(t);return{flag:!n.test(e),text:"格式错误，不可包含全形"}},validYoung:function(e){var t=new Date,n=new Date(e),a=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&(a-=1),{flag:a>=18,text:"未满18岁，无法注册"}},specialCharacters:function(e){var t=/^[A-Za-z0-9\u4e00-\u9fa5]{1,20}$/,n=new RegExp(t);return{flag:n.test(e),text:"格式错误，限中、英、数字"}}}},f9a9:function(e,t,n){"use strict";var a=function(){var e="".concat(window.location.origin).concat(""),t="https://access.line.me/oauth2/v2.1/authorize?";t+="response_type=code",t+="&client_id=".concat("1656312487"),t+="&redirect_uri=".concat(e),t+="&state=".concat("123456789"),t+="&scope=profile%20openid%20email",t+="&bot_prompt=aggressive",window.open(t,"_self")};t["a"]=a}}]);