(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MyInfo"],{"03d8":function(t,e,s){},"080f":function(t,e,s){t.exports=s.p+"img/icon-profile.fe5387db.svg"},"1e6c":function(t,e,s){t.exports=s.p+"img/icon-bet-record.329ae6a5.svg"},2522:function(t,e,s){t.exports=s.p+"img/icon-callback.9deeb537.svg"},"27c6":function(t,e,s){t.exports=s.p+"img/icon-self-service.af6374f6.svg"},"515b":function(t,e,s){t.exports=s.p+"img/icon-transaction-record.7ec20803.svg"},"5b90":function(t,e,s){t.exports=s.p+"img/icon_deposit.f11b75e9.svg"},6941:function(t,e,s){"use strict";e["a"]={data(){return{limit:null}},methods:{getPlayerDrawingLimit(){this.$api.cardList.getPlayerDrawingLimit({body:{}},t=>{this.limit=t.data.onceWithdrawLowerLimit/100})},goDeposit(t){this.$router.push(t)}},computed:{allBalance(){return this.$store.state.allBalance||Number(localStorage.getItem("allBalance"))},totalAskPoint(){return this.$store.state.userInfo.totalAskPoint},validPoint(){return this.$store.state.userInfo.validPoint},disparity(){return this.totalAskPoint<=this.validPoint?"0":this.$cf.toComma(this.totalAskPoint-this.validPoint)},isReach(){return this.validPoint>=this.totalAskPoint&&this.allBalance/100>=this.limit}}}},"6b5f":function(t,e,s){t.exports=s.p+"img/icon-notification.a06b579c.svg"},"824e":function(t,e,s){t.exports=s.p+"img/icon-feedback.7c231152.svg"},a632:function(t,e,s){t.exports=s.p+"img/icon-withdrawal.522f7948.svg"},b1e9:function(t,e,s){t.exports=s.p+"img/home-vip-icon.fc752cb0.svg"},b258e:function(t,e,s){t.exports=s.p+"img/icon-bank-card.f77dd5c3.svg"},b634:function(t,e,s){t.exports=s.p+"img/icon-point.ea8a59c5.svg"},c034:function(t,e,s){t.exports=s.p+"img/icon-customer-service.9cd762e6.svg"},c2a8:function(t,e,s){t.exports=s.p+"img/icon-promotion.c0ef86db.svg"},c50c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-info-container"},[i("div",{staticClass:"user-info-wrap"},[i("div",{staticClass:"user-info-box"},[i("div",{staticClass:"avatar-wrapper"},[i("div",{staticClass:"changePic"},[t.userInfo.id?i("AvatarUpload",{attrs:{"img-class":"avatar-img",avatar:t.userInfo.avatar},on:{"update:avatar":function(e){return t.$set(t.userInfo,"avatar",e)}}}):t._e()],1)]),i("div",{staticClass:"user-info-wrapper"},[i("div",{staticClass:"info-lineheight info-display",on:{click:function(e){return t.$router.push({path:"/myVip"})}}},[i("img",{staticClass:"vipContent",attrs:{src:t.myVipIcon,alt:""}}),i("div",[t._v(t._s(t.userInfo.username||"--"))])]),i("p",{staticClass:"info-lineheight",on:{click:function(e){return t.$router.push({path:"/integralMall",query:{redirect:t.$router.currentRoute.fullPath}})}}},[i("img",{attrs:{src:s("b634"),alt:""}}),i("span",{staticClass:"pointClass"},[t._v(t._s(t.$t("myInfo.Point")))]),i("span",{staticClass:"pointValue"},[t._v(t._s(t.userInfo.jifen))])])])])]),i("div",{staticClass:"finance-info-box"},[i("div",{staticClass:"balance-wrapper top-down"},[i("span",{staticClass:"title"},[t._v(" "+t._s(t.$t("myInfo.Balance"))+" "),i("BalanceButton")],1),i("span",{staticClass:"text"},[t._v(t._s(null===t.allBalance?"--":t.$cf.toComma(t.allBalance)))])]),i("div",{staticClass:"deposit-wrapper top-down",on:{click:function(e){return t.goDeposit("/recharge")}}},[i("span",[i("img",{attrs:{src:s("5b90"),alt:""}})]),i("span",[t._v(t._s(t.$t("myInfo.Recharge")))])]),i("ProxyLink",{staticClass:"withdrawal-wrapper top-down",class:{disabled:!t.isReach},attrs:{proxyType:"feedback"},on:{feedback:t.goWithDrawl}},[i("span",[i("img",{attrs:{src:s("a632"),alt:""}})]),i("span",[t._v(t._s(t.$t("myInfo.Withdrawal")))])])],1),i("TurnoverProgress",{attrs:{percent:t.percent,disparity:t.disparity,limit:t.limit,totalAskPoint:t.totalAskPoint,validPoint:t.validPoint,allBalance:t.allBalance}}),i("div",{staticClass:"menu-info-box"},[i("div",{staticClass:"quike-btn-box"},[i("div",{staticClass:"quike-btn-wrapper"},[i("LinearButton",{staticClass:"quike-btn top-down",on:{click:function(e){return t.$router.push("/myVIP")}}},[i("span",{staticClass:"white-color"},[i("img",{attrs:{src:s("b1e9"),alt:""}})]),i("span",{staticClass:"white-color",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.$t("myInfo.MyVIP")))])])],1),i("div",{staticClass:"quike-btn-wrapper"},[i("LinearButton",{staticClass:"quike-btn top-down",on:{click:function(e){return t.$router.push("/integralMall")}}},[i("span",{staticClass:"white-color"},[i("img",{attrs:{src:s("cacc"),alt:""}})]),i("span",{staticClass:"white-color",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.$t("myInfo.PointsMall")))])])],1),i("div",{staticClass:"quike-btn-wrapper"},[i("LinearButton",{staticClass:"quike-btn top-down",on:{click:function(e){return t.$router.push("/anliFriend")}}},[i("span",{staticClass:"white-color"},[i("img",{attrs:{src:s("c2a8"),alt:""}})]),i("span",{staticClass:"white-color",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.$t("myInfo.PromotionMoney")))])])],1),i("div",{staticClass:"quike-btn-wrapper"},[i("LinearButton",{staticClass:"quike-btn top-down",on:{click:function(e){return t.$router.push("/perSettings")}}},[i("span",{staticClass:"white-color"},[i("img",{attrs:{src:s("080f"),alt:""}})]),i("span",{staticClass:"white-color",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.$t("myInfo.PersonalSettings")))])])],1)]),i("div",{staticClass:"menu-list"},[i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/cardList")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("b258e"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.BindBankCard")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/dividend")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("27c6"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.SelfDividend")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/transactionRecord")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("515b"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.FinancialRecords")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/betRecord")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("1e6c"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("betTable.betRecord")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/myMsg")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("c034"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.MessageCenter")))])]},proxy:!0},{key:"right",fn:function(){return[i("div",{staticClass:"noticeColor"},[t._v(t._s(t.unreadMsg))])]},proxy:!0}])}),"0"!==t.customerMsg.phoneCallback&&1===t.memberLevel.callback?i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/phonecall")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("2522"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.PhoneCallback")))])]},proxy:!0}],null,!1,2616939630)}):t._e(),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/opinion")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("824e"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.Feedback")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/noticeList")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("6b5f"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.Announcement")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:function(e){return t.$router.push("/help")}},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("cc5b"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.Help")))])]},proxy:!0}])}),i("BaseCell",{staticClass:"item-cell",attrs:{showBorder:""},on:{click:t.openAg},scopedSlots:t._u([{key:"left",fn:function(){return[i("img",{attrs:{src:s("cc5b"),alt:""}})]},proxy:!0},{key:"middle",fn:function(){return[i("div",{staticClass:"item-text"},[t._v(t._s(t.$t("myInfo.agent")))])]},proxy:!0}])})],1),i("AnnouncementRecommendGame"),i("div",{staticClass:"logout"},[i("LinearButton",{staticClass:"logout-btn",on:{click:t.loginOut}},[t._v(t._s(t.$t("myInfo.RetreatSafely")))])],1)],1)],1)},n=[],a=s("6941"),o={name:"MyInfo",mixins:[a["a"]],data(){return{userInfo:{},unreadMsg:null,myVipIcon:"",customerMsg:{},memberLevel:{},isShowDialog:!1}},computed:{percent(){return this.totalAskPoint<=this.validPoint?100:this.validPoint/this.totalAskPoint*100}},created(){this.getUserInfo(),this.getAllBalance(),this.getUnreadMsg(),this.getByMember(),this.getVIPInfo(),this.getCustomer(),this.getPlayerDrawingLimit(),this.getAGLink()},methods:{openAg(){window.location.href=this.agLink},getAGLink(){this.$api.home.getHierarchyUrl({},t=>{t.data.hierarchyUrl&&(this.agLink=t.data.hierarchyUrl)})},getVIPInfo(){this.$api.my.getCurrentAndNextVIP({},({data:t})=>{this.userInfo.levelName=t.levelName,this.getAllVipList()})},getAllVipList(){this.$api.memberLevel.getAllLevelAndRebateRate({},t=>{this.myVipIcon=t.data.find(t=>t.id===this.userInfo.levelId).vipIconImage})},getUnreadMsg(){this.$api.my.getUnreadMsg({body:{memberId:localStorage.getItem("memberId")},pageBean:{page:1,pageSize:200}},t=>{this.unreadMsg=t.data.unreadNum})},loginOut(){this.$cf.showConfirmCancelDialog({title:this.$t("myInfo.RetreatSafely"),message:this.$t("myInfo.WhetherLogout"),onConfirm:()=>{this.$api.my.loginOut({body:{}},()=>{localStorage.removeItem("token"),localStorage.removeItem("lineIdToken"),localStorage.removeItem("memberId"),localStorage.removeItem("allBalance"),this.$store.commit("setAllBalance"),this.$store.commit("setUserInfo",{}),this.$router.push({path:"/login"}),setTimeout(()=>{this.$cf.showSuccessMessageDialog(this.$t("myInfo.RetreatSafely"))},200),window.gtag("event","登出")})}})},goWithDrawl(){this.isReach&&this.$cf.checkLineDraw(this.$api).then(({fn:t})=>{t()})},getUserInfo(){this.$api.my.getPerInfo({body:{}},t=>{localStorage.setItem("username",t.data.username),this.userInfo=t.data,this.$store.commit("setUserInfo",t.data)})},getByMember(){this.$api.actiList.getByMember({body:{}},t=>{this.memberLevel=t.data})},getAllBalance(){this.$store.dispatch("getAllBalance",{vm:this})},getCustomer(){this.$api.serviceCenter.getCustomer({body:{}},t=>{this.customerMsg=t.data})}},components:{LinearButton:()=>s.e("chunk-73bcffce").then(s.bind(null,"ec6b")),BalanceButton:()=>s.e("chunk-6236a682").then(s.bind(null,"2c30")),AvatarUpload:()=>s.e("chunk-ee898546").then(s.bind(null,"9c80")),TurnoverProgress:()=>s.e("chunk-6fa43e7c").then(s.bind(null,"ec59")),AnnouncementRecommendGame:()=>s.e("chunk-1c85faba").then(s.bind(null,"4ca6"))}},r=o,c=(s("c96c"),s("2877")),l=Object(c["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},c96c:function(t,e,s){"use strict";var i=s("03d8"),n=s.n(i);n.a},cacc:function(t,e,s){t.exports=s.p+"img/icon-pointex.4e6558af.svg"},cc5b:function(t,e,s){t.exports=s.p+"img/icon-faq.8884803b.svg"}}]);