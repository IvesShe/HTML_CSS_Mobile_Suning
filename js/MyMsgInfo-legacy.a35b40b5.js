(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MyMsgInfo"],{"78db":function(s,t,e){"use strict";var i=e("f59e"),n=e.n(i);n.a},cb27:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"my-msg-info-container"},[e("TheHeader",{attrs:{"left-arrow":"",title:s.$t("myMsg.myMsgInfo")}}),e("div",{staticClass:"msg-box-wrapper"},[e("div",{staticClass:"title-box"},[e("h1",[s._v(s._s(s.msg.title||"--"))])]),s.msg.img?e("div",{staticClass:"img-box"},[e("img",{attrs:{src:s.msg.img,alt:""}})]):s._e(),e("div",{staticClass:"content-box",domProps:{innerHTML:s._s(s.msg.content)}}),e("hr"),e("div",{staticClass:"date-time-box"},[e("p",[s._v(s._s(s.msg.addTime||"--"))])])]),e("MsgController",{attrs:{prevMsg:s.prevMsg,nextMsg:s.nextMsg},on:{switchMsg:s.switchMsg}})],1)},n=[],a=e("4795"),g=e.n(a);function r(s,t,e,i,n,a,g){try{var r=s[a](g),d=r.value}catch(m){return void e(m)}r.done?t(d):Promise.resolve(d).then(i,n)}function d(s){return function(){var t=this,e=arguments;return new Promise((function(i,n){var a=s.apply(t,e);function g(s){r(a,i,n,g,d,"next",s)}function d(s){r(a,i,n,g,d,"throw",s)}g(void 0)}))}}var m={name:"MyMsgInfo",data:function(){return{activeIndex:0,msg:{},id:"",messageId:"",msgType:"",messageList:[],nextMsg:{id:"",messageId:"",msgType:"",status:!1},prevMsg:{id:"",messageId:"",msgType:"",status:!1}}},methods:{getControllerStatus:function(){this.nextMsg.status=this.activeIndex!==this.messageList.length-1,this.prevMsg.status=0!==this.activeIndex,this.nextMsg.status&&(this.nextMsg.id=this.messageList[this.activeIndex+1].id,this.nextMsg.messageId=this.messageList[this.activeIndex+1].messageId,this.nextMsg.msgType=this.messageList[this.activeIndex+1].msgType),this.prevMsg.status&&(this.prevMsg.id=this.messageList[this.activeIndex-1].id,this.prevMsg.messageId=this.messageList[this.activeIndex-1].messageId,this.prevMsg.msgType=this.messageList[this.activeIndex-1].msgType)},getMsgList:function(){var s=this;this.$api.my.myMsgList({body:{isRead:this.activeStatus,memberId:localStorage.getItem("memberId")},pageBean:{page:1,pageSize:15}},(function(t){s.messageList=t.data.data,s.activeIndex=s.messageList.findIndex((function(t){return t.id===s.id})),s.getControllerStatus()}))},init:function(){var s=this;return d(g.a.mark((function t(){return g.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s.$api.my.getMessageDetailMobile({body:{id:s.id,messageId:s.messageId,msgType:s.msgType}},(function(t){s.msg=t.data})),s.$api.my.UpMsgItem({body:{id:s.id}}),s.getMsgList();case 3:case"end":return t.stop()}}),t)})))()},switchMsg:function(s){var t=s.id,e=s.messageId,i=s.msgType;this.id=t,this.messageId=e,this.msgType=i,this.init()}},created:function(){this.id=this.$route.query.id||"",this.msgType=this.$route.query.msgType||0,this.messageId=this.$route.query.messageId||"",this.init()},components:{MsgController:function(){return e.e("chunk-27b249fa").then(e.bind(null,"c394"))}}},o=m,c=(e("78db"),e("2877")),h=Object(c["a"])(o,i,n,!1,null,"e76ef4cc",null);t["default"]=h.exports},f59e:function(s,t,e){}}]);