(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["perSettings"],{"0255":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphNTk0YTczYS0zNzEzLTRhMjktODgyYi0xYjg0ZWJkMjM5NGQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzYzRjFFNzg5M0VGMTFFNDk1OEFENjBBMUJBQjkyMzkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzYzRjFFNzc5M0VGMTFFNDk1OEFENjBBMUJBQjkyMzkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YzU4NjU0YTItOWNhYy00OWU0LThkNjgtMmMwZjU4OTkxNjIzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmE1OTRhNzNhLTM3MTMtNGEyOS04ODJiLTFiODRlYmQyMzk0ZCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqJHm10AAAJ7SURBVHja7Jg7aBRBGMfvclmjURMxKgppNAhRlBCxUMHGR6GooOADsbGwsVALsQrxGiFFKhtRbBQkEUHBaCfBwhcIvjAgiCaoKIKieAaikYy/ge9g2OxudpzZyyH3hx8s3+zO/nee305eKZWrZtXlqlw1gzWD0616D3UUoA1aoUViJXgPb2BsOgwuggOwC9bB7Jj7xuEp3IYrYthOeh20oBXOw5iy1wQMQKfNO23MHYWSctcf6IUGXwYDuKT86z60uBqsg36VnZ5Bs4vBLpW9biR5yCckC+3wAoIKLHf74JrtQn26Qua0ipC3MdgMu0OxIVgKI0bsq8TuQR+slpjWF1gGD+AszDc4GKp7paynqQ1uhIZQbET4YMQ+SuydDIeXcFgvr/AJhqX8FYzCXmF7xDu32uwk7Q7dNSAttikUnwk9ct2U9p1xLTjPweAhOAVPQvEfRhdvi3iuyaYFvzsYPAeP4VhECxblek3EcyUbg68TDOhx9xYaY8rnyIRZH4oHMv60FkY8N2TTxXfhd8zH7DfSq5JRTyCpl1Yn9BplBbm3TdgRM3YnKWmh7hczZWnD12UsaS2APVLxZvgps7g8OZSUbZFnbsGE0cVrjbr1CtBha3CV5HL1uey1Uz7AaifRrXGmAuYux5lLk7AWZDPPSo+g0TUfnAF9GZh77iMfLKPH6nFPGbXWwzTmbFN+zRK4CL8czF2FWVn8k5gshhNwB0ZTGhuHk9IbuawNhifSCigmmBuGDf9Svw+DJt8ifjUvTPXfkYTPRTiQfbgsvV8fgcFqOZtZLruO3vK6JbsedK007/GEda4ch9yEz74q9Wmwdj5YM/hfGvwrwAA499Bj2JSa/QAAAABJRU5ErkJggg=="},"0f9e":function(t,e,i){"use strict";var n=i("ae59"),s=i.n(n);s.a},ae59:function(t,e,i){},d219:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"persettings-container"},[t.isLoading?n("div",{staticClass:"loading-mask"},[n("van-loading",{attrs:{size:"24px"}})],1):t._e(),n("TheHeader",{staticClass:"transparent",attrs:{title:t.$t("perSettings.PersonalSettings"),"left-arrow":"",leftClick:t.goBack,isFixedTop:!0}}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.RegistrationDate")))]},proxy:!0},{key:"right",fn:function(){return[t._v(t._s(t.formData.createTime))]},proxy:!0}])}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.ActualName")))]},proxy:!0},{key:"right",fn:function(){return[n("span",{staticClass:"real-name"},[t._v(t._s(t.omitInfo(t.formData.realname)))])]},proxy:!0}])}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.DateOfBirth")))]},proxy:!0},{key:"right",fn:function(){return[t.formData.birthday?n("div",[t._v(t._s(t.formData.birthday))]):n("van-button",{staticClass:"setting-btn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.toNext(t.formData.birthday,"proceInfo","birth")}}},[t._v(t._s(t.$t("perSettings.Set")))])]},proxy:!0}])}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.MobilePhoneNumber")))]},proxy:!0},{key:"right",fn:function(){return[t.formData.mobile?n("div",[t._v(t._s(t.formData.mobile))]):n("van-button",{staticClass:"setting-btn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.toNext(t.formData.mobile,"proceCode","mobile")}}},[t._v(t._s(t.$t("perSettings.ToBeCertified")))])]},proxy:!0}])}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.Email")))]},proxy:!0},{key:"right",fn:function(){return[t.formData.email?n("div",[t._v(t._s(t.formData.email))]):n("van-button",{staticClass:"setting-btn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.toNext(t.formData.email,"proceCode","email")}}},[t._v(t._s(t.$t("perSettings.ToBeCertified")))])]},proxy:!0}])}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v("Line")]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"line-tag",class:{active:t.isActive},on:{click:t.lineBinding}},[n("img",{attrs:{src:i("0255"),alt:""}}),t._v(" Connect ")])]},proxy:!0}])}),n("div",{staticClass:"title"},[t._v(t._s(t.$t("perSettings.PasswordSecurity")))]),t.$store.state.userInfo.lineId?t._e():n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.LoginPassword")))]},proxy:!0},{key:"right",fn:function(){return[n("van-button",{staticClass:"setting-btn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.toNext("","procePass","loginPass")}}},[t._v(t._s(t.$t("perSettings.Modify")))])]},proxy:!0}],null,!1,2109855717)}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.WithdrawalPassword")))]},proxy:!0},{key:"right",fn:function(){return[n("van-button",{staticClass:"setting-btn",attrs:{round:"",type:"primary"},on:{click:function(e){return t.toNext("","procePass","withdrawalPass")}}},[t._v(t._s(t.$t("perSettings.Modify")))])]},proxy:!0}])}),n("BaseCell",{scopedSlots:t._u([{key:"middle",fn:function(){return[t._v(t._s(t.$t("perSettings.PasswordSynchronization")))]},proxy:!0},{key:"right",fn:function(){return[n("van-button",{staticClass:"setting-btn",attrs:{round:"",type:"primary"},on:{click:t.syncPassword}},[t._v(t._s(t.$t("perSettings.PasswordSynchronization")))])]},proxy:!0}])}),n("div",{staticClass:"tips"},[n("p",{staticClass:"tips-title"},[t._v(t._s(t.$t("perSettings.Tips"))+"ï¼š")]),n("p",[t._v(t._s(t.$t("perSettings.TipsText")))])])],1)},s=[],r=i("f9a9"),o={name:"PerSettings",data(){return{formData:{},isActive:!0,isLoading:!1}},methods:{init(){this.$api.my.getPerInfo({body:{}},t=>{this.formData=t.data})},lineBinding(){this.isActive&&(localStorage.setItem("redirectUrl","perSettings"),Object(r["a"])())},toNext(t,e,i){t||("withdrawalPass"===i&&this.$api.my.getPerInfo({body:{}},t=>{t.data.withdrawPwd||this.$router.push({path:"/setPassword"})}),this.$router.push({path:"/"+e,query:{type:i}}))},syncPassword(){this.$api.my.syncPassword({body:{memberId:localStorage.getItem("memberId")}},t=>{this.$cf.showConfirmSuccessDialog({title:t.message})})},goBack(){this.$router.push("/myInfo")},getPerInfo(){this.$api.my.getPerInfo({body:{}},t=>{this.$store.commit("setUserInfo",t.data),this.$store.state.userInfo.lineId&&(this.isActive=!1)})},bindLine(){this.isLoading=!0,this.$api.my.bindLineAccount({body:{memberId:localStorage.getItem("memberId"),idToken:localStorage.getItem("lineIdToken")}},()=>{localStorage.removeItem("aleadyBinded"),this.isLoading=!1,this.$router.go(0)},()=>{localStorage.setItem("aleadyBinded",!0),this.isLoading=!1}),localStorage.removeItem("redirectUrl")},omitInfo(t){if(void 0!==t){if(t.length>=32){const e=t.substring(0,31);return e+" ..."}return t}return"--"}},created(){this.getPerInfo(),localStorage.getItem("aleadyBinded")||(localStorage.getItem("lineIdToken")&&"perSettings"===localStorage.getItem("redirectUrl")&&this.bindLine(),this.init())}},a=o,c=(i("0f9e"),i("2877")),l=Object(c["a"])(a,n,s,!1,null,null,null);e["default"]=l.exports},f9a9:function(t,e,i){"use strict";const n=()=>{const t=""+window.location.origin;let e="https://access.line.me/oauth2/v2.1/authorize?";e+="response_type=code",e+="&client_id=1656312487",e+="&redirect_uri="+t,e+="&state=123456789",e+="&scope=profile%20openid%20email",e+="&bot_prompt=aggressive",window.open(e,"_self")};e["a"]=n}}]);