(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transactionRecord"],{"0e8f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TheHeader",{attrs:{title:t.$t("betTable.betRecord"),"left-arrow":"","left-click":t.goBack}}),a("BaseScroller",{attrs:{"scroller-height":t.scrollerHeight}},[a("van-tabs",{attrs:{type:t.tabType(),"line-height":2,"swipe-threshold":"6",sticky:"",animated:""},on:{click:t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(t){return a("van-tab",{key:t.type,attrs:{title:t.name}})})),1),a("CalendarPicker",{attrs:{start:t.timeObj.star,end:t.timeObj.end,"min-date":t.$dateFun.getDateByDay(-60),"max-date":t.$dateFun.getDateByDay(),"max-range":"60"},on:{confirm:t.onDateSelect}}),a("BaseCell",{staticClass:"select-box",scopedSlots:t._u([{key:"left",fn:function(){return[t._v(t._s(t.$t("betTable.platform")))]},proxy:!0},{key:"right",fn:function(){return[a("BaseSelector",{attrs:{columns:t.ptList,valueKey:"value",presentKey:"label",value:t.platformCode},on:{confirm:t.onPlatformChange}})]},proxy:!0}])}),a("BaseCell",{staticClass:"select-box",scopedSlots:t._u([{key:"left",fn:function(){return[t._v(t._s(t.$t("betTable.type")))]},proxy:!0},{key:"right",fn:function(){return[a("BaseSelector",{attrs:{columns:t.gameTypes,valueKey:"value",presentKey:"label",value:t.gameType},on:{confirm:t.onGameTypeChange}})]},proxy:!0}])}),t.dataList.length>0?a("div",{staticClass:"table-wrap"},[a("table",{staticClass:"user-info-table",attrs:{cellspacing:"0",cellpadding:"0"}},[a("thead",{staticClass:"fontcolor01 meblack"},[a("th",[t._v(t._s(t.$t("betTable.time")))]),a("th",[t._v(t._s(t.$t("betTable.platform")))]),a("th",[t._v(t._s(t.$t("betTable.type")))]),a("th",[t._v(t._s(t.$t("betTable.betAmount")))]),a("th",[t._v(t._s(t.$t("betTable.validBetAmount")))])]),a("tbody",{staticClass:"fontcolor01"},[t._l(t.dataList,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(t._f("dateFilter")(e.statTime)))]),a("td",[t._v(t._s(e.platformCode))]),a("td",[t._v(t._s(e.gameType))]),a("td",[t._v(t._s(e.betAmount/100))]),a("td",[a("div",{staticClass:"can-click",on:{click:function(a){return t.openModal(e)}}},[t._v(t._s(e.validBetAmount/100))])])])})),0===t.dataList.length?a("tr",{staticClass:"fontcolor01"},[a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.$t("betTable.noRecord")))])]):t._e()],2)])]):t._e(),a("pagination",{key:t.paginationKey,attrs:{isShow:t.isPaginationShow,isLoading:t.isPaginationLoading},on:{click:t.pagingFn}}),0!==t.dataList.length||t.$store.state.isLoading?t._e():a("NoData",{attrs:{text:t.$t("betTable.noRecord")}})],1)],1)},s=[];function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const{goBack:o}=a("9ccf");let d;d={NoData:()=>a.e("chunk-1fd74a74").then(a.bind(null,"6066")),Pagination:()=>a.e("chunk-2d0c08b4").then(a.bind(null,"41de")),CalendarPicker:()=>a.e("chunk-39911548").then(a.bind(null,"c8e3")),BeseSelector:()=>Promise.resolve().then(a.bind(null,"28a4"))};var h={filters:{dateFilter(t){return t.replace(/[/-]/g,"/")}},data(){return{type:"",active:0,dataList:[],timeObj:{star:this.$dateFun.formatDate(this.$dateFun.getDateByDay(),"yyyy-MM-dd"),end:this.$dateFun.formatDate(this.$dateFun.getDateByDay(),"yyyy-MM-dd")},showYhbox:!1,isPaginationShow:!1,isPaginationLoading:!1,paginationKey:0,pageNum:1,pageSize:15,api:"",tabType:()=>"line",gameType:null,platformCode:null,ptList:[],gameTypes:[],memberDialog:!1,modalGameType:"",modalPlatformName:"",morePlatform:[]}},computed:{tabs(){return[{type:1,name:this.$t?this.$t("betTable.today"):"今天"},{type:2,name:this.$t?this.$t("betTable.yesterday"):"昨天"},{type:3,name:this.$t?this.$t("betTable.nearlyWeek"):"近一周"},{type:4,name:this.$t?this.$t("betTable.nearlyMonth"):"近一月"}]},minDate(){const t=new Date(new Date(this.timeObj.end).setDate(new Date(this.timeObj.end).getDate()-60)),e=this.$dateFun.getDateByDay(-90);return t>e?t:e},maxDate(){const t=new Date(new Date(this.timeObj.star).setDate(new Date(this.timeObj.star).getDate()+60)),e=this.$dateFun.getDateByDay();return t<e?t:e},platformName(){if(null!==this.modalPlatformName){const t=this.ptList.find(t=>t.value===this.modalPlatformName);if(t)return"function"===typeof t.label?t.label():t.label}return""},gameTypeName(){if(null!==this.modalGameType){const t=this.gameTypes.find(t=>t.value===this.modalGameType);if(t)return"function"===typeof t.label?t.label():t.label}return""}},mounted(){this.getPingtaiList(),this.getGreatGame(),setTimeout(()=>{this.init()},100)},methods:{goBack(){o(this.$route)},init(){this.$api.my.getBetLog({body:{startTime:this.timeObj.star||"",endTime:this.timeObj.end||"",gameType:this.gameType,platformCode:this.platformCode},pageBean:{page:1,pageSize:this.pageSize}},t=>{this.dataList=t.data.data,this.isPaginationShow=t.data.hasNextPage,t.data.hasNextPage&&(this.isPaginationShow=!0),this.$forceUpdate()})},pagingFn({currentPage:t}){this.isPaginationLoading=!0,this.$api.my.getBetLog({body:{startTime:this.timeObj.star||"",endTime:this.timeObj.end||"",gameType:this.gameType,platformCode:this.platformCode},pageBean:{page:t,pageSize:this.pageSize}},t=>{var e;null===(e=t.data)||void 0===e||e.data.forEach(t=>{this.dataList.push(t),this.$forceUpdate()}),this.isPaginationShow=t.data.hasNextPage,this.isPaginationLoading=!1},()=>{this.isPaginationLoading=!1})},changeTab(){this.setDate(),this.init()},queryRecord(){this.paginationKey++,this.init()},onChxeDate(t){this.type=t,this.$refs[this.type+"chxeDate"].showDate=!0},confirmDate(t){this.timeObj[this.type]=t},setDate(){const t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),s=t.getTime(),n=864e5,l=11232e5,r=25056e5,o=new Date(s-n),d=new Date(s-l),h=new Date(s-r);let m="",p="";switch(this.active){case 0:default:m=`${e}-${this.padZero(a)}-${this.padZero(i)}`,p=`${e}-${this.padZero(a)}-${this.padZero(i)}`;break;case 1:m=`${o.getFullYear()}-${this.padZero(o.getMonth()+1)}-${this.padZero(o.getDate())}`,p=`${o.getFullYear()}-${this.padZero(o.getMonth()+1)}-${this.padZero(o.getDate())}`;break;case 2:m=`${d.getFullYear()}-${this.padZero(d.getMonth()+1)}-${this.padZero(d.getDate())}`,p=`${e}-${this.padZero(a)}-${this.padZero(i)}`;break;case 3:m=`${h.getFullYear()}-${this.padZero(h.getMonth()+1)}-${this.padZero(h.getDate())}`,p=`${e}-${this.padZero(a)}-${this.padZero(i)}`;break}this.timeObj.star=m,this.timeObj.end=p},padZero(t){return t.toString().padStart(2,"0")},getPingtaiList(){this.$api.wallet.getPingtaiList({body:{state:1,transferIn:1,transferOut:1}},t=>{this.ptList=[{value:null,label:this.$t?()=>this.$t("betTable.all"):"全部"},...t.data.data.map(t=>({value:t.id,label:()=>t.name}))]})},getGreatGame(){this.$api.home.getGreatGame({body:{state:1,showDevices:0},pageBean:{page:1}},t=>{this.gameTypes=[{label:()=>this.$t("betTable.all"),value:null},...t.data.data.map(t=>({label:()=>t.typeName,value:t.typeId}))]})},platformFilter(t){const e=this.ptList.find(e=>e.value===t);if(e)return"function"===typeof e.label?e.label():e.label},typeFilter(t){const e=this.gameTypes.find(e=>e.value===t);if(e)return"function"===typeof e.label?e.label():e.label},openModal(t){this.$router.push({path:"/validBetDetail",query:{gameTypeId:t.gameTypeId,platformId:t.platformId,platformName:t.platformCode,gameTypeName:t.gameType,startTime:this.timeObj.star,endTime:this.timeObj.end}})},getDetail(t,e){this.$api.my.getPlatformBet({body:{startTime:this.timeObj.star+" 00:00:00"||"",endTime:this.timeObj.end+" 23:59:59"||"",startNetWin:null,endNetWin:null,startValidBet:null,endValidBet:null,gameTypeId:t,platformId:e,thirdpartyLogID:null,gameName:null,gameNameEN:null}},t=>{this.morePlatform=t.data.data,this.memberDialog=!0})}},components:l({},d)};a.e("chunk-74beb41a").then(a.t.bind(null,"98f6",7));var m={mixins:[h],data(){return{scrollerHeight:"calc(100vh - 162px)",paginationKey:0}},methods:{onPlatformChange(t){this.platformCode=t.value,this.queryRecord()},onGameTypeChange(t){this.gameType=t.value,this.queryRecord()},onDateSelect(t){this.paginationKey++;const[e,a]=t,i=new Date(e),s=new Date(a);this.timeObj.star=`${i.getFullYear()}-${this.padZero(i.getMonth()+1)}-${this.padZero(i.getDate())}`,this.timeObj.end=`${s.getFullYear()}-${this.padZero(s.getMonth()+1)}-${this.padZero(s.getDate())}`,this.queryRecord()}}},p=m,c=a("2877"),g=Object(c["a"])(p,i,s,!1,null,null,null);e["default"]=g.exports},4529:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TheHeader",{attrs:{title:t.$t("betTable.validBetAmountDetail"),"left-arrow":"","left-click":t.goBack}}),a("BaseScroller",{attrs:{"scroller-height":t.scrollerHeight}},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"title-group"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("betTable.platform")))]),a("div",{staticClass:"value"},[t._v(t._s(t.platformName))])]),a("div",{staticClass:"title-group"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("betTable.type")))]),a("div",{staticClass:"value"},[t._v(t._s(t.gameTypeName))])])]),t.dataList.length>0?a("div",{staticClass:"table-wrap"},[a("table",{staticClass:"user-info-table",attrs:{cellspacing:"0",cellpadding:"0"}},[a("thead",{staticClass:"fontcolor01 meblack"},[a("th",[t._v(t._s(t.$t("betTable.time")))]),a("th",[t._v(t._s(t.$t("betTable.betNumber")))]),a("th",[t._v(t._s(t.$t("betTable.gameName")))]),a("th",[t._v(t._s(t.$t("betTable.validBetAmount")))]),a("th",[t._v(t._s(t.$t("betTable.reward")))])]),a("tbody",{staticClass:"fontcolor01"},[t._l(t.dataList,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"time"},[t._v(t._s(e.createTime))]),a("td",[t._v(t._s(e.thirdpartyLogID))]),a("td",[t._v(t._s(e.gameName))]),a("td",[t._v(t._s(e.validBet/100))]),a("td",[t._v(t._s(e.gain/100))])])})),0===t.dataList.length?a("tr",{staticClass:"fontcolor01"},[a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.$t("betTable.noRecord")))])]):t._e()],2)])]):t._e(),a("pagination",{key:t.active,attrs:{isShow:t.isPaginationShow,isLoading:t.isPaginationLoading},on:{click:t.pagingFn}}),0!==t.dataList.length||t.$store.state.isLoading?t._e():a("NoData",{attrs:{text:t.$t("betTable.noRecord")}})],1)],1)},s=[],n=a("9ccf"),l={data(){return{platformName:"",platformId:"",gameTypeName:"",gameTypeId:"",dataList:[],active:0,pageNum:1,pageSize:5,isPaginationShow:!1,isPaginationLoading:!1,startTime:"",endTime:""}},created(){const{gameTypeId:t,platformId:e,platformName:a,gameTypeName:i,startTime:s,endTime:n}=this.$route.query;this.platformName=a,this.platformId=e,this.gameTypeId=t,this.gameTypeName=i,this.startTime=s,this.endTime=n},mounted(){this.getDetail()},methods:{pagingFn({currentPage:t}){this.isPaginationLoading=!0,this.$api.cardList.getBetLog({body:{startTime:this.timeObj.star||"",endTime:this.timeObj.end||"",gameType:this.gameType,platformCode:this.platformCode},pageBean:{page:t,pageSize:this.pageSize}},t=>{var e;null===(e=t.data)||void 0===e||e.data.forEach(t=>{this.dataList[this.active].push(t),this.$forceUpdate()}),this.isPaginationShow=t.data.hasNextPage,this.isPaginationLoading=!1},()=>{this.isPaginationLoading=!1})},getDetail(){this.$api.my.getPlatformBet({body:{startTime:this.startTime+" 00:00:00"||"",endTime:this.endTime+" 23:59:59"||"",startNetWin:null,endNetWin:null,startValidBet:null,endValidBet:null,gameTypeId:this.gameTypeId,platformId:this.platformId,thirdpartyLogID:null,gameName:null,gameNameEN:null}},t=>{this.dataList=t.data.data})}}};a.e("chunk-74b56402").then(a.t.bind(null,"7c83",7));var r={mixins:[l],data(){return{scrollerHeight:"calc(100vh - 162px)"}},components:{NoData:()=>a.e("chunk-1fd74a74").then(a.bind(null,"6066")),Pagination:()=>a.e("chunk-2d0c08b4").then(a.bind(null,"41de"))},methods:{goBack(){Object(n["goBack"])(this.$route,"/betRecord")}}},o=r,d=a("2877"),h=Object(d["a"])(o,i,s,!1,null,null,null);e["default"]=h.exports}}]);