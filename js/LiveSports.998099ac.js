(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LiveSports"],{"07b3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"live-sports-container"},[t.isLiveyabo?t._e():s("TheHeader",{attrs:{title:t.$t("sports.HotStreams"),"left-arrow":"","left-click":t.goBack}}),s("div",{staticClass:"league-title"},[t._v(t._s(t.currentGame.Liga))]),t.currentGame?s("div",{staticClass:"teams-container"},[s("div",{staticClass:"teams-container--host"},[t.homeImg?s("img",{attrs:{src:t.homeImg,alt:""}}):s("img",{attrs:{src:a("ee69"),alt:""}}),s("p",[t._v(t._s(t.currentGame.Opp1))])]),s("div",{staticClass:"teams-container--score"},[t._v(t._s(t.currentGameScores))]),s("div",{staticClass:"teams-container--guest"},[t.awayImg?s("img",{attrs:{src:t.awayImg,alt:""}}):s("img",{attrs:{src:a("ee69"),alt:""}}),s("p",[t._v(t._s(t.currentGame.Opp2))])])]):t._e(),s("div",{staticClass:"stream-container"},[s("van-popover",{staticClass:"stream-container__tooltip",attrs:{trigger:"click",actions:t.actions},scopedSlots:t._u([{key:"reference",fn:function(){return[s("van-icon",{attrs:{name:"warning",color:"#4f95e5"}})]},proxy:!0}]),model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isValidSrc,expression:"isValidSrc"}],staticClass:"stream-container__stream",staticStyle:{width:"100%",height:"240px"},attrs:{id:"id_test_video"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isValidSrc,expression:"!isValidSrc"}],staticClass:"stream-container__no-data"},[s("img",{attrs:{src:a("f04e")}}),s("span",[t._v("No Source")])])],1),(t.currentGame.Odds,t._e()),s("div",{staticClass:"deposit-container"},[s("div",{staticClass:"deposit-container--banner",on:{click:t.goDeposit}})])],1)},i=[],r={data(){return{timer:"",data:{id:"1",status:!0,league:"W-league",host:"Melbourne City (W)",guest:"Perth Glory FC (W)",hostScore:12,guestScore:22},currentGame:{},vid:"",livePlayer:"",streamSrc:"",showPopover:!1,actions:[{text:this.$t("sports.Reference")}],playFail:!1,logos:[],homeImg:null,awayImg:null,betList:["Euro","Letgoal","Score"]}},computed:{isLiveyabo(){const t=window.location.href;return t.includes("yabo")},isValidSrc(){var t,e;return(null===(t=this.currentGame)||void 0===t||null===(e=t.StreamInfo)||void 0===e?void 0:e.state)&&!this.playFail},currentGameScores(){var t;return(null===(t=this.currentGame)||void 0===t?void 0:t.Scores)||"-：-"}},methods:{goDeposit(){const t=window.location.href;t.includes("yabo")?window.location.href="https://www.wo909.com/liveyabo/register":this.$router.push({path:"/recharge",query:{redirect:this.$router.currentRoute.fullPath}})},goBack(){this.$router.push({path:"/",query:{menu:"livestream",sport:1}})},async playMatch(){await this.livePlayer.stopPlay(),await this.livePlayer.startPlay("webrtc://chana365.com/live/"+this.streamSrc)},async getStream(t){const e=await this.$api.home.getSports({vid:t});this.currentGame=e.data,this.currentGame.StreamCode=this.currentGame.StreamName.match(/\d+$/gi)[0]},streamStatusHandler(t){switch(t){default:case 1001:return this.playFail=!1,"開始拉流";case 1002:return this.playFail=!1,"開始連接";case 1003:return this.playFail=!1,this.currentGame.StreamInfo&&(this.currentGame.StreamInfo.state=!0),"視屏開始播放";case 1004:return this.playFail=!1,"停止拉流，結束播放";case 1005:return this.playFail=!1,"連結伺服器失敗，已啟動自動重新連接";case 1006:return this.currentGame.StreamInfo&&(this.currentGame.StreamInfo.state=!1),this.playFail=!0,"獲取數據流為空";case-2001:return this.playFail=!0,"WEB RTC 相關錯誤";case-2002:return this.playFail=!0,"拉榴街口後台返回錯誤（流不存在、授權失敗）";case-2003:return this.livePlayer.stopPlay(),this.playFail=!0,"播放失敗";case-2004:return this.playFail=!0,"連接伺服器失敗"}},setPlayListener(){this.livePlayer.setPlayListener&&this.livePlayer.setPlayListener({onPlayEvent:t=>{console.log(this.streamStatusHandler(t))}})},initVideo(){try{this.livePlayer=new window.TXLivePlayer,this.livePlayer.setPlayerView("id_test_video"),this.livePlayer.startPlay("webrtc://chana365.com/live/"+this.streamSrc),this.setPlayListener()}catch(t){this.playFail=!0}},loadScript(t){if(document.getElementById(t.id))this.initVideo();else{const e=document.createElement("script");e.async=!0,e.src=t.url,e.id=t.id,document.body.appendChild(e),e.onload=()=>{this.initVideo()}}},mapLogo(){this.logos.forEach(t=>{this.currentGame.Opp1ID===t.teamId&&(this.homeImg=t.teamLogo,this.currentGame.Opp1=t.displayName||this.currentGame.Opp1),this.currentGame.Opp2ID===t.teamId&&(this.awayImg=t.teamLogo,this.currentGame.Opp2=t.displayName||this.currentGame.Opp2)})},getSportsLeague(){this.$api.home.getSportLeague({pageBean:{page:1,pageSize:9999}},t=>{const e=t.data.data,a=e.find(t=>t.league===this.currentGame.Liga);this.currentGame.Liga=(null===a||void 0===a?void 0:a.displayName)||this.currentGame.Liga})}},async created(){try{this.vid=this.$route.query.id||"",this.streamSrc=this.$route.query.streamsrc||"",await this.getStream(this.vid),this.$api.home.getSportLogo({body:{type:this.currentGame.Sport}},t=>{this.logos=t.data,this.mapLogo(),this.getSportsLeague()}),this.qualityList=this.$route.query.quality,this.streamSrc=this.currentGame.StreamName,await this.loadScript({id:"TXLivePlayer",url:"https://webrtc-demo.myqcloud.com/pull-sdk/TXLivePlayer-0.0.4-beta.min.js"}),this.playMatch(),this.timer=setInterval(async()=>{await this.getStream(this.vid),this.$api.home.getSportLogo({body:{type:this.currentGame.Sport}},t=>{this.logos=t.data,this.mapLogo(),this.getSportsLeague()})},6e4)}catch(t){this.playFail=!0}},beforeDestroy(){clearInterval(this.timer),this.livePlayer.stopPlay()}},A=r,o=(a("6f12"),a("2877")),c=Object(o["a"])(A,s,i,!1,null,"2b5c1339",null);e["default"]=c.exports},"5f70":function(t,e,a){},"6f12":function(t,e,a){"use strict";var s=a("5f70"),i=a.n(s);i.a},ee69:function(t,e){t.exports="data:image/png;base64,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"},f04e:function(t,e,a){t.exports=a.p+"img/sports-hourglass.f116f752.svg"}}]);