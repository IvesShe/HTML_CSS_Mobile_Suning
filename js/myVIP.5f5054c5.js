(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["myVIP"],{a279:function(t,e,i){"use strict";var s=i("c444"),a=i.n(s);a.a},a4d3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-vip-container"},[i("TheHeader",{attrs:{title:"VIP","left-arrow":"",leftClick:t.goBack}}),i("div",{staticClass:"top-block"},[i("div",{staticClass:"info"},[i("div",{staticClass:"info-head-img"},[t.descriptionInfo.avatar?i("img",{staticClass:"head-img",attrs:{src:t.descriptionInfo.avatar,alt:""}}):t.defaultHeadImg?i("img",{staticClass:"head-img",attrs:{src:t.defaultHeadImg,alt:""}}):i("img",{staticClass:"head-img",attrs:{src:t.$cf.getSeat1xImg(),alt:""}}),i("div",{staticClass:"info-text"},[i("div",[t._v(t._s(t.userName))]),i("div",[t._v(t._s(t.descriptionInfo.levelName))])])]),i("img",{staticClass:"vip-img",attrs:{src:t.myVipIcon,alt:""}})]),i("div",{staticClass:"speed-box"},[i("div",{staticClass:"speed-line"},[i("div",{style:{width:t.percentage+"%"}},[i("div",{staticClass:"percentage"},[t._v(t._s(t.percentage)+"%")])])])]),i("div",{staticClass:"speed-label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.descriptionInfo.levelName||"--"))]),i("span",{staticClass:"label-text"},[t._v(t._s(t.descriptionInfo.nextLevelName||"--"))])]),i("div",{staticClass:"number-col"},[i("span",{staticClass:"icon icon-deposit"}),i("span",{staticClass:"title"},[t._v(t._s(t.$t("myVip.RechargeImmediately")))]),i("span",{staticClass:"number"},[t._v(t._s(t.descriptionInfo.currentDeposit/100)+" / "+t._s(t.descriptionInfo.levelUpDeposit/100))])]),i("div",{staticClass:"number-col"},[i("span",{staticClass:"icon icon-star"}),i("span",{staticClass:"title"},[t._v(t._s(t.$t("myVip.Point")))]),i("span",{staticClass:"number"},[t._v(t._s(t.descriptionInfo.levelUpPoints)+" / "+t._s(t.descriptionInfo.currentPoints))])])]),i("div",{staticClass:"bottom-block"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("myVip.ExclusiveVIPPrivileges")))]),i("div",{staticClass:"indicator-wrap"},t._l(t.allVipList,(function(e,s){return i("div",{key:e.id,staticClass:"indicator",class:{active:s===t.activeIndex},on:{click:function(e){return t.onSwipeTo(s)}}},[t._v(t._s(e.levelName))])})),0),i("div",{staticClass:"swiper-wrap"},[i("van-swipe",{ref:"mySwiper",staticClass:"my-swipe",attrs:{"indicator-color":"#2a86e3","show-indicators":!1},on:{change:t.onSwipeChange}},t._l(t.allVipList,(function(t){return i("van-swipe-item",{key:t.id},[i("VipListBox",{attrs:{vipInfo:t}})],1)})),1),i("div",{staticClass:"operating-btn-group"},[i("div",{staticClass:"operating-btn-group__back",on:{click:t.onSwipePrev}},[i("span")]),i("div",{staticClass:"operating-btn-group__back",on:{click:t.onSwipeNext}},[i("span")])])],1),i("div",{staticClass:"van-cell"},[i("van-button",{staticClass:"submit-btn",attrs:{type:"button"},on:{click:t.goDetail}},[t._v(t._s(t.$t("myVip.ExclusiveVIPPrivileges")))])],1)])],1)},a=[],n={name:"MyVip",data(){return{defaultHeadImg:"",descriptionInfo:{},allVipList:[],activeIndex:0,myVipIcon:""}},computed:{userName(){var t;return(null===(t=this.descriptionInfo.username)||void 0===t?void 0:t.toUpperCase())||"--"},percentage(){const t=this.descriptionInfo,e=t.currentDeposit/t.levelUpDeposit;if(0!==t.levelUpPoints){const i=t.currentPoints/t.levelUpPoints,s=e>1?1:e,a=i>1?1:i;return parseFloat(Number(this.$cf.numberMul((s+a)/2,100)).toFixed(2))||0}return parseFloat(Number(this.$cf.numberMul(e>1?1:e,100)).toFixed(2))||0}},methods:{getDefaultHeadimg(){this.$api.my.getDefaultHeadimg({},t=>{this.defaultHeadImg=t.data.defaultHeadimg})},getVIPInfo(){this.$api.my.getCurrentAndNextVIP({},({data:t})=>{this.descriptionInfo={username:t.username,avatar:t.avatar,levelName:t.levelName,nextLevelName:t.nextLevelName,levelUpDeposit:t.levelUpDeposit,currentDeposit:t.currentDeposit,levelUpPoints:t.levelUpPoints,currentPoints:t.currentPoints},this.descriptionInfo.avatar||this.getDefaultHeadimg(),this.getAllVipList()})},async getAllVipList(){this.$api.memberLevel.getAllLevelAndRebateRate({},t=>{this.myVipIcon=t.data.find(t=>t.name===this.descriptionInfo.levelName).vipIconImage}),await this.$api.my.getAllVIP({},t=>{this.allVipList=t.data,this.activeIndex=this.allVipList.findIndex(t=>t.levelName===this.descriptionInfo.levelName),this.$refs.mySwiper.swipeTo(this.activeIndex)})},onSwipeChange(t){this.activeIndex=t},onSwipeTo(t){this.activeIndex=t,this.$refs.mySwiper.swipeTo(t)},onSwipePrev(){this.$refs.mySwiper.prev()},onSwipeNext(){this.$refs.mySwiper.next()},goDetail(){this.$router.push("/vipPage")},goBack(){this.$router.push("/home")}},async created(){this.getDefaultHeadimg(),this.getVIPInfo()},components:{VipListBox:()=>i.e("chunk-43c1c695").then(i.bind(null,"8626"))}},l=n,o=(i("a279"),i("2877")),c=Object(o["a"])(l,s,a,!1,null,null,null);e["default"]=c.exports},c444:function(t,e,i){}}]);