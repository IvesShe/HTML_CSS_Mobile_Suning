(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["IntegralMall"],{"9bee":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"integral-mall-container"},[a("TheHeader",{attrs:{title:t.$t("myInfo.PointsMall"),"left-arrow":""}}),a("div",{staticClass:"integral-container"},[a("div",{staticClass:"integral-text"},[a("div",{staticClass:"row"},[a("i",{staticClass:"icon point-icon"}),a("span",{staticClass:"point-text"},[t._v(t._s(t.$t("integralMall.Points")))]),a("span",{staticClass:"point-number"},[t._v(t._s(t.userInfo.jifen))])]),a("div",{staticClass:"row"},[a("i",{staticClass:"icon discount-icon"}),a("span",{staticClass:"point-text"},[t._v(t._s(t.$t("integralMall.Discount")))]),a("span",{staticClass:"point-number"},[t._v(t._s(t.integrationDiscount)+"%")])])]),a("div",{staticClass:"integral-button"},[a("div",{staticClass:"van-cell"},[a("van-button",{staticClass:"submit-btn",attrs:{type:"submit"},on:{click:t.getRule}},[t._v(t._s(t.$t("integralMall.ExchangeRule")))])],1)])]),a("van-tabs",{attrs:{swipeable:""},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabs,(function(e,n){return a("van-tab",{key:e.type,attrs:{title:e.name()}},[3===e.type?a("IntegralRecord",{key:n}):t._e(),1===e.type?a("IntegralMallList",{key:n,attrs:{pageType:t.activeIndex,userInfo:t.userInfo},on:{getUserInfo:t.getUserInfo}}):t._e(),2===e.type?a("IntegralMallList",{key:n,attrs:{pageType:t.activeIndex,userInfo:t.userInfo},on:{getUserInfo:t.getUserInfo}}):t._e()],1)})),1),a("IntegralRulesDialog",{attrs:{isShowRule:t.isShowRule,rule:t.rule},on:{closeRuleDialog:t.closeRuleDialog}})],1)},i=[],s={name:"IntegralMall",data(){return{tabs:[{type:1,name:()=>this.$t("integralMall.BargainingChip")},{type:2,name:()=>this.$t("integralMall.Gift")},{type:3,name:()=>this.$t("integralMall.ExchangeRecord")}],activeIndex:0,isShowRule:!1,rule:{},integrationDiscount:0,userInfo:{realname:"",jifen:0}}},methods:{getUserInfo(){this.$api.my.getPerInfo({body:{}},t=>{this.userInfo=t.data})},getByMember(){this.$api.actiList.getByMember({body:{}},t=>{this.integrationDiscount=this.$cf.numberMul(t.data.integrationDiscount,100)})},getRule(){this.isShowRule=!0,this.$api.actiList.queryJifenRule({},t=>{t.data&&(this.rule=t.data)})},closeRuleDialog(t){this.isShowRule=t}},created(){this.getUserInfo(),this.getByMember()},components:{IntegralMallList:()=>a.e("chunk-78487f72").then(a.bind(null,"e953")),IntegralRecord:()=>a.e("chunk-7d523a3a").then(a.bind(null,"08d3")),IntegralRulesDialog:()=>a.e("chunk-855c57f2").then(a.bind(null,"1fea"))}},l=s,r=(a("f0c7"),a("2877")),o=Object(r["a"])(l,n,i,!1,null,null,null);e["default"]=o.exports},ca1c:function(t,e,a){},f0c7:function(t,e,a){"use strict";var n=a("ca1c"),i=a.n(n);i.a}}]);