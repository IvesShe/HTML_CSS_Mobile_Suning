(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["actiBirthday"],{"298a":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"acti-birthday-contaienr"},[e("TheHeader",{attrs:{title:t.$t("actiBirthday.BirthdayGifts"),"left-arrow":""}}),e("WhiteCardContainer",[e("div",{staticClass:"act-topinfo-box"},[e("p",{staticClass:"money-box"},[t._v(t._s(t.level.birthCashGift>=0?t.level.birthCashGift/100:"--")+"฿")]),e("div",{staticClass:"act-topinfo-con"},[e("div",[t._v(" "+t._s(t.$t("actiBirthday.MultipleWater"))+"： "),e("span",[t._v(t._s(t.initObj.betMultiple||"--"))])]),e("div",[t._v(" "+t._s(t.$t("actiBirthday.WhetherToAudit"))+"： "),e("span",[t._v(t._s(1==t.initObj.audit?t.$t("actiBirthday.Check"):t.$t("actiBirthday.DoNotAudit")||"--"))])])])]),t.birthday?e("LinearButton",{attrs:{disabled:t.islingqu||0===this.level.birthCashGift,block:"",type:"info"},on:{click:t.UpBirthday}},[t._v(t._s(t.btnText))]):e("LinearButton",{attrs:{block:"",type:"info"},on:{click:function(i){return t.$router.push({path:"proceInfo",query:{type:"birth"}})}}},[t._v(t._s(t.$t("actiBirthday.GoToSettings")))])],1),e("div",{staticClass:"tips"},[e("span",[t._v(t._s(t.$t("actiDayWater.Mention"))+"：")]),e("p",[t._v(t._s(t.$t("actiBirthday.Tip1")))]),e("p",[t._v(t._s(t.$t("actiBirthday.Tip2",[t.initObj.validity])))])])],1)},s=[],n={name:"ActiBirthday",data(){return{initObj:{},level:{},islingqu:!0,birthday:""}},computed:{btnText(){if(-1!==this.initObj.receiveStatus){if(1===this.initObj.receiveStatus)return this.$t("actiBirthday.AlreadyApplied");if(2===this.initObj.receiveStatus||3===this.initObj.receiveStatus)return this.$t("actiBirthday.ItHasAlreadyReceived")}return this.islingqu||0===this.level.birthCashGift?this.$t("actiBirthday.NoFriendsReceive"):this.$t("actiBirthday.Receive")}},methods:{getBirthday(){this.$api.actiList.getBirthday({body:{status:1}},t=>{this.initObj=t.data.data[0]||{},this.$api.my.getPerInfo({body:{}},i=>{this.birthday=i.data.birthday,this.getLevel(t.data.data)})})},UpBirthday(){this.$api.my.getPerInfo({body:{}},t=>{t.data.birthday?this.$api.actiList.UpBirthday({body:{status:1}},()=>{this.$cf.showSuccessMessageDialog(this.$t("actiBirthday.ReceiveSuccess")),this.getBirthday()}):this.$cf.showConfirmCancelDialog({title:this.$t("actiBirthday.Remind"),message:this.$t("actiBirthday.RemindMsg"),onConfirm:()=>{this.$router.push({path:"/perSettings"})}})})},dateRange(t,i){const e=new Date;this.islingqu=!(t<e&&i>e)},getLevel(t){this.$api.actiList.getByMember({body:{memberId:localStorage.getItem("memberId")}},i=>{if(this.level=i.data,-1===this.initObj.receiveStatus){this.islingqu=i.data.birthCashGift<=0||0===t.length;const e=this.initObj.validity,a=new Date((new Date).getFullYear()+this.birthday.substr(4)),s=new Date(a.setDate(a.getDate()-e)),n=new Date(a.setDate(a.getDate()+2*e));this.dateRange(s,n)}else this.islingqu=!0})}},created(){this.getBirthday()},components:{LinearButton:()=>e.e("chunk-73bcffce").then(e.bind(null,"ec6b")),WhiteCardContainer:()=>e.e("chunk-6afd79e6").then(e.bind(null,"60b5"))}},r=n,h=(e("51f0"),e("2877")),d=Object(h["a"])(r,a,s,!1,null,"75f9d3e0",null);i["default"]=d.exports},"51f0":function(t,i,e){"use strict";var a=e("f064"),s=e.n(a);s.a},f064:function(t,i,e){}}]);