(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["actiBirthday"],{"298a":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"acti-birthday-contaienr"},[e("TheHeader",{attrs:{title:t.$t("actiBirthday.BirthdayGifts"),"left-arrow":""}}),e("WhiteCardContainer",[e("div",{staticClass:"act-topinfo-box"},[e("p",{staticClass:"money-box"},[t._v(t._s(t.level.birthCashGift>=0?t.level.birthCashGift/100:"--")+"฿")]),e("div",{staticClass:"act-topinfo-con"},[e("div",[t._v(" "+t._s(t.$t("actiBirthday.MultipleWater"))+"： "),e("span",[t._v(t._s(t.initObj.betMultiple||"--"))])]),e("div",[t._v(" "+t._s(t.$t("actiBirthday.WhetherToAudit"))+"： "),e("span",[t._v(t._s(1==t.initObj.audit?t.$t("actiBirthday.Check"):t.$t("actiBirthday.DoNotAudit")||"--"))])])])]),t.birthday?e("LinearButton",{attrs:{disabled:t.islingqu||0===this.level.birthCashGift,block:"",type:"info"},on:{click:t.UpBirthday}},[t._v(t._s(t.btnText))]):e("LinearButton",{attrs:{block:"",type:"info"},on:{click:function(i){return t.$router.push({path:"proceInfo",query:{type:"birth"}})}}},[t._v(t._s(t.$t("actiBirthday.GoToSettings")))])],1),e("div",{staticClass:"tips"},[e("span",[t._v(t._s(t.$t("actiDayWater.Mention"))+"：")]),e("p",[t._v(t._s(t.$t("actiBirthday.Tip1")))]),e("p",[t._v(t._s(t.$t("actiBirthday.Tip2",[t.initObj.validity])))])])],1)},n=[],r={name:"ActiBirthday",data:function(){return{initObj:{},level:{},islingqu:!0,birthday:""}},computed:{btnText:function(){if(-1!==this.initObj.receiveStatus){if(1===this.initObj.receiveStatus)return this.$t("actiBirthday.AlreadyApplied");if(2===this.initObj.receiveStatus||3===this.initObj.receiveStatus)return this.$t("actiBirthday.ItHasAlreadyReceived")}return this.islingqu||0===this.level.birthCashGift?this.$t("actiBirthday.NoFriendsReceive"):this.$t("actiBirthday.Receive")}},methods:{getBirthday:function(){var t=this;this.$api.actiList.getBirthday({body:{status:1}},(function(i){t.initObj=i.data.data[0]||{},t.$api.my.getPerInfo({body:{}},(function(e){t.birthday=e.data.birthday,t.getLevel(i.data.data)}))}))},UpBirthday:function(){var t=this;this.$api.my.getPerInfo({body:{}},(function(i){i.data.birthday?t.$api.actiList.UpBirthday({body:{status:1}},(function(){t.$cf.showSuccessMessageDialog(t.$t("actiBirthday.ReceiveSuccess")),t.getBirthday()})):t.$cf.showConfirmCancelDialog({title:t.$t("actiBirthday.Remind"),message:t.$t("actiBirthday.RemindMsg"),onConfirm:function(){t.$router.push({path:"/perSettings"})}})}))},dateRange:function(t,i){var e=new Date;this.islingqu=!(t<e&&i>e)},getLevel:function(t){var i=this;this.$api.actiList.getByMember({body:{memberId:localStorage.getItem("memberId")}},(function(e){if(i.level=e.data,-1===i.initObj.receiveStatus){i.islingqu=e.data.birthCashGift<=0||0===t.length;var a=i.initObj.validity,n=new Date((new Date).getFullYear()+i.birthday.substr(4)),r=new Date(n.setDate(n.getDate()-a)),s=new Date(n.setDate(n.getDate()+2*a));i.dateRange(r,s)}else i.islingqu=!0}))}},created:function(){this.getBirthday()},components:{LinearButton:function(){return e.e("chunk-73bcffce").then(e.bind(null,"ec6b"))},WhiteCardContainer:function(){return e.e("chunk-6afd79e6").then(e.bind(null,"60b5"))}}},s=r,c=(e("51f0"),e("2877")),d=Object(c["a"])(s,a,n,!1,null,"75f9d3e0",null);i["default"]=d.exports},"51f0":function(t,i,e){"use strict";var a=e("f064"),n=e.n(a);n.a},f064:function(t,i,e){}}]);