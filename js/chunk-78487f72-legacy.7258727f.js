(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78487f72"],{"261e":function(t,e,i){},"51b6":function(t,e,i){"use strict";var a=i("261e"),n=i.n(a);n.a},"655c":function(t,e,i){"use strict";e["a"]={cn:{phoneNumberLengh:11,ruleName:"phoneNumRuleCN",blackRuleName:"phoneBlackListCN"},th:{phoneNumberLengh:10,ruleName:"phoneNumRuleTH",blackRuleName:"phoneBlackListTH"}}},6941:function(t,e,i){"use strict";e["a"]={data:function(){return{limit:null}},methods:{getPlayerDrawingLimit:function(){var t=this;this.$api.cardList.getPlayerDrawingLimit({body:{}},(function(e){t.limit=e.data.onceWithdrawLowerLimit/100}))},goDeposit:function(t){this.$router.push(t)}},computed:{allBalance:function(){return this.$store.state.allBalance||Number(localStorage.getItem("allBalance"))},totalAskPoint:function(){return this.$store.state.userInfo.totalAskPoint},validPoint:function(){return this.$store.state.userInfo.validPoint},disparity:function(){return this.totalAskPoint<=this.validPoint?"0":this.$cf.toComma(this.totalAskPoint-this.validPoint)},isReach:function(){return this.validPoint>=this.totalAskPoint&&this.allBalance/100>=this.limit}}}},e953:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"integral-mall-list-container"},[i("div",{staticClass:"sort-wrap"},[t._v(" "+t._s(t.$t("integralMallList.SortBy"))+" "),i("BaseButton",{staticClass:"card-btn",class:{isBtnActive:2===t.sort},on:{click:function(e){return t.sortQuery(2)}}},[t._v(t._s(t.$t("integralMallList.LowToHigh")))]),i("BaseButton",{staticClass:"card-btn",class:{isBtnActive:1===t.sort},on:{click:function(e){return t.sortQuery(1)}}},[t._v(t._s(t.$t("integralMallList.HighToLow")))])],1),i("BaseScroller",{attrs:{"scroller-height":t.scrollerHeight}},[i("van-list",{attrs:{finished:t.finished,offset:"100","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("div",{staticClass:"mall-list"},t._l(t.integerList,(function(e){return i("div",{key:e.id,staticClass:"card-wrap"},[i("div",{staticClass:"card-img-wrap"},[i("img",{staticClass:"card-img",attrs:{src:e.imgUrl,alt:""}})]),i("div",{staticClass:"card-name"},[i("p",[t._v(t._s(e.name))])]),i("div",{staticClass:"card-points"},[t._v(t._s(e.merchandiseJifen/100)+" "+t._s(t.$t("integralMallList.Points")))]),i("div",{staticClass:"card-btn"},[i("BaseButton",{staticClass:"exchange-btn",attrs:{disabled:!t.canBuy(e.merchandiseJifen)},on:{click:function(i){return t.checkConvert(t.pageType,e)}}},[t._v(t._s(t.canBuy(e.merchandiseJifen)?t.$t("integralMallList.Exchange"):t.$t("integralMallList.NotEnough")))])],1),i("div",{staticClass:"card-description-wrap"},[i("span",{staticClass:"card-description",on:{click:function(i){return t.onChangeGoodsDetail(e)}}},[t._v(t._s(t.$t("integralMallList.Description")))])])])})),0)])],1),i("BaseDialog",{staticClass:"chip-dialog",attrs:{"show-confirm-button":!0,"show-cancel-button":!0,title:t.$t("integralMallList.ExchangeConfirmation")},on:{confirm:t.onConfirmChips,cancel:t.close,close:t.close},scopedSlots:t._u([{key:"content",fn:function(){return[i("div",{staticClass:"col"},[i("span",[t._v(t._s(t.$t("integralMallList.Item")))]),i("span",{staticClass:"text-red"},[t._v(t._s(t.selectedItem.name))])]),i("div",{staticClass:"col"},[i("span",[t._v(t._s(t.$t("integralMallList.PointsAfterDiscount")))]),i("span",{staticClass:"text-red"},[t._v(t._s(t.selectedItem.merchandiseJifen/100)+" "+t._s(t.$t("integralMallList.Points")))])])]},proxy:!0}]),model:{value:t.isShowChipDialog,callback:function(e){t.isShowChipDialog=e},expression:"isShowChipDialog"}}),i("BaseDialog",{staticClass:"show-received-dialog",attrs:{title:t.$t("integralMallList.ReceiveInformation"),"show-confirm-button":!0,"show-cancel-button":!0},on:{confirm:t.onConfirmReceived,cancel:t.close,close:t.close},scopedSlots:t._u([{key:"content",fn:function(){return[i("van-form",{ref:"receivedForm",attrs:{"validate-trigger":"onChange"}},[i("BaseCell",{staticClass:"name-column",attrs:{fullWidth:!0},scopedSlots:t._u([{key:"left",fn:function(){return[t._v(t._s(t.$t("integralMallList.Name")))]},proxy:!0},{key:"right",fn:function(){return[i("div",{staticClass:"username-ellipsis"},[t._v(t._s(t.omitInfo(t.userInfo.realname)))])]},proxy:!0}])}),i("div",{staticClass:"form-label"},[t._v(t._s(t.$t("integralMallList.ContactNumber")))]),i("div",{staticClass:"col-2"},[i("div",{staticClass:"prefix"},[i("van-field",t._b({key:t.formFields[0].name,scopedSlots:t._u([{key:"input",fn:function(){return[i("span",[t._v("+")]),i("CustomVanFieldInput",{attrs:{validatedState:t.formFields[0].state,inputClass:t.formFields[0].inputClass,placeholder:t.formFields[0].placeholder,type:t.formFields[0].type,maxlength:t.formFields[0].maxlength},on:{"update:type":function(e){return t.$set(t.formFields[0],"type",e)}},model:{value:t.formFields[0].value,callback:function(e){t.$set(t.formFields[0],"value",e)},expression:"formFields[0].value"}})]},proxy:!0}])},"van-field",t.formFields[0],!1))],1),i("div",{staticClass:"phone"},[i("van-field",t._b({key:t.formFields[1].name,scopedSlots:t._u([{key:"input",fn:function(){return[i("CustomVanFieldInput",{attrs:{validatedState:t.formFields[1].state,inputClass:t.formFields[1].inputClass,placeholder:t.formFields[1].placeholder,type:t.formFields[1].type,maxlength:t.formFields[1].maxlength},on:{"update:type":function(e){return t.$set(t.formFields[1],"type",e)}},model:{value:t.formFields[1].value,callback:function(e){t.$set(t.formFields[1],"value",e)},expression:"formFields[1].value"}})]},proxy:!0}])},"van-field",t.formFields[1],!1))],1)]),i("div",{staticClass:"form-label"},[t._v(t._s(t.$t("integralMallList.ShippingAddress")))]),i("van-field",t._b({key:t.formFields[2].name,scopedSlots:t._u([{key:"input",fn:function(){return[i("CustomVanFieldInput",{attrs:{validatedState:t.formFields[2].state,inputClass:t.formFields[2].inputClass,placeholder:t.formFields[2].placeholder,type:t.formFields[2].type,maxlength:t.formFields[2].maxlength},on:{"update:type":function(e){return t.$set(t.formFields[2],"type",e)}},model:{value:t.formFields[2].value,callback:function(e){t.$set(t.formFields[2],"value",e)},expression:"formFields[2].value"}})]},proxy:!0}])},"van-field",t.formFields[2],!1))],1)]},proxy:!0}]),model:{value:t.isShowReceivedDialog,callback:function(e){t.isShowReceivedDialog=e},expression:"isShowReceivedDialog"}}),i("GoodsDetailDialog",{attrs:{isShow:t.isShowGoodsDetail,goodsDetailItem:t.selectedItem},on:{closeGoodsDetailDialog:t.closeGoodsDetailDialog}})],1)},n=[],s=i("f2dc"),o=i("655c"),l=i("a79b"),r=i("6941"),c={name:"IntegralMallList",mixins:[r["a"]],props:{pageType:Number,userInfo:Object},data:function(){var t=this;return{sort:2,isShowGoodsDetail:!1,integerList:[],selectedItem:{},isShowChipDialog:!1,isShowReceivedDialog:!1,isSorting:!1,scrollerHeight:"calc(100vh - 180px)",pageNum:1,loading:!1,finished:!1,debounceDo:Object(l["b"])(this.getQueryListH5,200),formFields:[{name:"prefix",value:"66",placeholder:"",maxlength:2,rules:[{required:!0,message:"required"},{message:this.$t("integralMallList.ValidateMsgPrefix"),validator:function(t){if(t){var e=s["a"].number(t);return e.flag}}}]},{name:"phone",value:"",placeholder:this.$t("integralMallList.PhonePlaceholder"),maxlength:9,rules:[{required:!0,message:this.$t("integralMallList.ValidateMsgPhone1")},{message:this.$t("integralMallList.ValidateMsgPhone2"),validator:function(e){if(e){var i=s["a"].phoneNum(e,t.notAllowPhoneNumber,o["a"].th);return i.flag}}}]},{name:"address",value:"",placeholder:this.$t("integralMallList.AddressPlaceholder"),maxlength:100,rules:[{required:!0,message:this.$t("integralMallList.ValidateMsgAddress")}]}]}},methods:{sortQuery:function(t){this.sort=t,this.isSorting=!0,this.pageNum=1,this.integerList=[],this.getQueryListH5()},getQueryListH5:function(){var t=this,e={body:{type:this.pageType+1,sort:this.sort},pageBean:{page:this.pageNum,pageSize:15}};this.finished&&!this.isSorting||this.$api.actiList.queryListH5List(e,(function(e){var i,a;t.integerList=t.integerList.concat(null===(i=e.data)||void 0===i?void 0:i.data)||[],t.finished=!(null!==(a=e.data)&&void 0!==a&&a.hasNextPage),t.loading=!1})),this.isSorting=!1},canBuy:function(t){return this.userInfo.jifen>=t/100},onChangeGoodsDetail:function(t){this.selectedItem=t,this.isShowGoodsDetail=!0},closeGoodsDetailDialog:function(t){this.isShowGoodsDetail=t},checkConvert:function(t,e){this.selectedItem=e,0===t?(this.$store.dispatch("getAllBalance",{vm:this}),this.isShowChipDialog=!0):1===t&&(this.isShowReceivedDialog=!0)},onLoad:function(){this.pageNum++,this.debounceDo()},onConfirmChips:function(){var t=this;this.$api.actiList.exchange({body:{merchandiseId:this.selectedItem.id}},(function(){t.$emit("getUserInfo"),t.$cf.showConfirmSuccessDialog({message:t.$t("integralMallList.ExchangeSuccess")}),t.isShowChipDialog=!1}),(function(e){t.$cf.showConfirmDialog({message:e.message})}))},getParam:function(){return{name:this.userInfo.realname,mobile:"".concat(this.formFields[0].value,"-").concat(this.formFields[1].value),address:this.formFields[2].value,merchandiseId:this.selectedItem.id}},sendReceivedForm:function(){var t=this;this.$api.actiList.exchange({body:this.getParam()},(function(){t.$emit("getUserInfo"),t.$cf.showConfirmSuccessDialog({message:t.$t("integralMallList.ExchangeSuccess")}),t.isShowReceivedDialog=!1}),(function(e){t.$cf.showConfirmDialog({message:e.message})}))},onConfirmReceived:function(){var t=this;this.$refs.receivedForm.validate().then((function(e){void 0===e&&t.sendReceivedForm()}))},close:function(){this.isShowChipDialog=!1,this.isShowReceivedDialog=!1},omitInfo:function(t){if(void 0!==t){if(t.length>=32){var e=t.substring(0,31);return"".concat(e," ...")}return t}return"--"}},created:function(){this.getQueryListH5(),this.getPlayerDrawingLimit()},components:{GoodsDetailDialog:function(){return i.e("chunk-ceb9c322").then(i.bind(null,"9e26"))},CustomVanFieldInput:function(){return i.e("chunk-50b477c4").then(i.bind(null,"5623"))}}},u=c,d=(i("51b6"),i("2877")),f=Object(d["a"])(u,a,n,!1,null,null,null);e["default"]=f.exports},f2dc:function(t,e,i){"use strict";var a=i("72f2");e["a"]={strnumDa6:function(t){var e=/^[a-zA-Z0-9]{6,}$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入6位以上数字或字母"}},passwordValid:function(t){var e=/^[a-zA-Z0-9_]{6,}$/,i=new RegExp(e);return{flag:i.test(t),text:"格式須由 6~16 位半形英数字及下底線组成"}},BDYPasswordValid:function(t){var e=/^[a-zA-Z0-9]{6,16}$/,i=new RegExp(e);return{flag:i.test(t),text:"格式須由 6~16 位半形英数字"}},BFDrawNumber:function(t){var e=/^[0-9]{4,8}$/,i=new RegExp(e);return{flag:i.test(t),text:"格式错误，请设定 4~8 位数字密码"}},BDYDrawNumber:function(t){var e=/^[0-9]{6,}$/,i=new RegExp(e);return{flag:i.test(t),text:"格式错误，请设定 6 位数字密码"}},BFAccount:function(t){var e=/^BF[a-zA-Z0-9]{4,}$/,i=new RegExp(e);return{flag:i.test(t),text:"帐号格式必须为BF开头且符合 6~14 位"}},EDFAccount:function(t){var e=/^EDF[a-zA-Z0-9]{4,}$/,i=new RegExp(e);return{flag:i.test(t),text:"帐号格式必须为EDF开头且符合 6~14 位"}},BDYAcount:function(t){var e=/^[a-zA-Z0-9]{4,12}$/,i=new RegExp(e);return{flag:i.test(t),text:"帐号长度必须为 4~12 位半形英数字"}},THAcount:function(t){var e=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9]{6,10}$/,i=new RegExp(e);return{flag:i.test(t),text:"账号格式为6-10位英文+数字的組合"}},THAcountLogin:function(t){var e=/^[a-zA-Z0-9]{6,10}$/,i=new RegExp(e);return{flag:i.test(t),text:"账号格式为6-10位英文+数字的組合"}},LOAccountLogin:function(t){var e=/^LE[a-zA-Z0-9]{6,10}$/,i=new RegExp(e);return{flag:i.test(t),text:"帐号格式必须为LE开头且符合 8~12 位"}},THPasswordValid:function(t){var e=/^[a-zA-Z0-9_]{6,16}$/,i=new RegExp(e);return{flag:i.test(t),text:"密码格式为6-16位英数字及 '_'"}},THRealName:function(t){var e=/^[a-zA-Z\u4E00-\u9FA5\u0E01-\u0E5B ]{2,128}$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入汉字"}},phoneNum:function(t,e,i,a){var n;if(t){n=i?this[i.ruleName](t,e,a):this.phoneNumRuleCN(t,e,a);var s=i?this[i.blackRuleName](t,e,a):this.phoneBlackListCN(t,e,a);return s.flag||(n=s),n}},phoneNumRuleTH:function(t){var e=/^\d{9,10}$/,i=new RegExp(e);return{flag:i.test(t),text:"手机号码格式错误"}},phoneNumRuleCN:function(t){var e=/^1\d{10}$/,i=new RegExp(e);return{flag:i.test(t)&&11===t.length&&t.startsWith("1"),text:"手机号码格式错误"}},phoneBlackListCN:function(t,e,i){e=e||a["a"].state.notAllowPhoneNumber,i=i||a["a"].state.nationCode;var n=i;i||(n=""===i?"86":"66");var s=[],o=!0;e.split("|").forEach((function(t){var e=t.split("-");e.length<2&&(o=!1),e[0]===n&&s.push(e[1])}));var l=o?s.join("|"):e,r="^(".concat(l,"){1,}[0-9]{8,9}$"),c=new RegExp(r);return{flag:!c.test(t)&&11===t.length&&t.startsWith("1"),text:"手机号码无法使用，请联系客服"}},phoneBlackListTH:function(t,e,i){e=e||a["a"].state.notAllowPhoneNumber,i=i||a["a"].state.nationCode;var n=i;i||(n=""===i?"86":"66");var s=[],o=!0;e.split("|").forEach((function(t){var e=t.split("-");e.length<2&&(o=!1),e[0]===n&&s.push(e[1])}));var l=o?s.join("|"):e,r="^(".concat(l,"){1,}[0-9]{6,8}$"),c=new RegExp(r);return{flag:!c.test(t),text:"手机号码无法使用，请联系客服"}},email:function(t){var e=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入正确的邮箱号码格式"}},yuming:function(t){var e=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\/.?/,i=new RegExp(e);return{flag:i.test(t),text:"请输入正确的域名格式"}},shenfenz:function(t){var e=/(^d{15}$)|(^d{17}([0-9]|X)$)/,i=new RegExp(e);return{flag:i.test(t),text:"请输入正确的身份证号码格式"}},number:function(t){var e=/^[0-9]*$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入数字"}},hanzi:function(t){var e=/^[\u4e00-\u9fa5·．]{0,}$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入汉字"}},BDYRealName:function(t){var e=/^[\u4e00-\u9fa5·．]{2,}$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入汉字"}},strnum:function(t){var e=/^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$/,i=new RegExp(e);return{flag:i.test(t),text:"请输入数字或字母"}},noFullWidth:function(t){var e=/[\uff00-\uffff]/g,i=new RegExp(e);return{flag:!i.test(t),text:"格式错误，不可包含全形"}},validYoung:function(t){var e=new Date,i=new Date(t),a=e.getFullYear()-i.getFullYear(),n=e.getMonth()-i.getMonth();return(n<0||0===n&&e.getDate()<i.getDate())&&(a-=1),{flag:a>=18,text:"未满18岁，无法注册"}},specialCharacters:function(t){var e=/^[A-Za-z0-9\u4e00-\u9fa5]{1,20}$/,i=new RegExp(e);return{flag:i.test(t),text:"格式错误，限中、英、数字"}}}}}]);