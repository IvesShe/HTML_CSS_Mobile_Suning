(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["myVIP"],{a279:function(t,e,i){"use strict";var n=i("c444"),a=i.n(n);a.a},a4d3d:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-vip-container"},[i("TheHeader",{attrs:{title:"VIP","left-arrow":"",leftClick:t.goBack}}),i("div",{staticClass:"top-block"},[i("div",{staticClass:"info"},[i("div",{staticClass:"info-head-img"},[t.descriptionInfo.avatar?i("img",{staticClass:"head-img",attrs:{src:t.descriptionInfo.avatar,alt:""}}):t.defaultHeadImg?i("img",{staticClass:"head-img",attrs:{src:t.defaultHeadImg,alt:""}}):i("img",{staticClass:"head-img",attrs:{src:t.$cf.getSeat1xImg(),alt:""}}),i("div",{staticClass:"info-text"},[i("div",[t._v(t._s(t.userName))]),i("div",[t._v(t._s(t.descriptionInfo.levelName))])])]),i("img",{staticClass:"vip-img",attrs:{src:t.myVipIcon,alt:""}})]),i("div",{staticClass:"speed-box"},[i("div",{staticClass:"speed-line"},[i("div",{style:{width:t.percentage+"%"}},[i("div",{staticClass:"percentage"},[t._v(t._s(t.percentage)+"%")])])])]),i("div",{staticClass:"speed-label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.descriptionInfo.levelName||"--"))]),i("span",{staticClass:"label-text"},[t._v(t._s(t.descriptionInfo.nextLevelName||"--"))])]),i("div",{staticClass:"number-col"},[i("span",{staticClass:"icon icon-deposit"}),i("span",{staticClass:"title"},[t._v(t._s(t.$t("myVip.RechargeImmediately")))]),i("span",{staticClass:"number"},[t._v(t._s(t.descriptionInfo.currentDeposit/100)+" / "+t._s(t.descriptionInfo.levelUpDeposit/100))])]),i("div",{staticClass:"number-col"},[i("span",{staticClass:"icon icon-star"}),i("span",{staticClass:"title"},[t._v(t._s(t.$t("myVip.Point")))]),i("span",{staticClass:"number"},[t._v(t._s(t.descriptionInfo.levelUpPoints)+" / "+t._s(t.descriptionInfo.currentPoints))])])]),i("div",{staticClass:"bottom-block"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("myVip.ExclusiveVIPPrivileges")))]),i("div",{staticClass:"indicator-wrap"},t._l(t.allVipList,(function(e,n){return i("div",{key:e.id,staticClass:"indicator",class:{active:n===t.activeIndex},on:{click:function(e){return t.onSwipeTo(n)}}},[t._v(t._s(e.levelName))])})),0),i("div",{staticClass:"swiper-wrap"},[i("van-swipe",{ref:"mySwiper",staticClass:"my-swipe",attrs:{"indicator-color":"#2a86e3","show-indicators":!1},on:{change:t.onSwipeChange}},t._l(t.allVipList,(function(t){return i("van-swipe-item",{key:t.id},[i("VipListBox",{attrs:{vipInfo:t}})],1)})),1),i("div",{staticClass:"operating-btn-group"},[i("div",{staticClass:"operating-btn-group__back",on:{click:t.onSwipePrev}},[i("span")]),i("div",{staticClass:"operating-btn-group__back",on:{click:t.onSwipeNext}},[i("span")])])],1),i("div",{staticClass:"van-cell"},[i("van-button",{staticClass:"submit-btn",attrs:{type:"button"},on:{click:t.goDetail}},[t._v(t._s(t.$t("myVip.ExclusiveVIPPrivileges")))])],1)])],1)},a=[],s=i("4795"),r=i.n(s);function o(t,e,i,n,a,s,r){try{var o=t[s](r),c=o.value}catch(l){return void i(l)}o.done?e(c):Promise.resolve(c).then(n,a)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var s=t.apply(e,i);function r(t){o(s,n,a,r,c,"next",t)}function c(t){o(s,n,a,r,c,"throw",t)}r(void 0)}))}}var l={name:"MyVip",data:function(){return{defaultHeadImg:"",descriptionInfo:{},allVipList:[],activeIndex:0,myVipIcon:""}},computed:{userName:function(){var t;return(null===(t=this.descriptionInfo.username)||void 0===t?void 0:t.toUpperCase())||"--"},percentage:function(){var t=this.descriptionInfo,e=t.currentDeposit/t.levelUpDeposit;if(0!==t.levelUpPoints){var i=t.currentPoints/t.levelUpPoints,n=e>1?1:e,a=i>1?1:i;return parseFloat(Number(this.$cf.numberMul((n+a)/2,100)).toFixed(2))||0}return parseFloat(Number(this.$cf.numberMul(e>1?1:e,100)).toFixed(2))||0}},methods:{getDefaultHeadimg:function(){var t=this;this.$api.my.getDefaultHeadimg({},(function(e){t.defaultHeadImg=e.data.defaultHeadimg}))},getVIPInfo:function(){var t=this;this.$api.my.getCurrentAndNextVIP({},(function(e){var i=e.data;t.descriptionInfo={username:i.username,avatar:i.avatar,levelName:i.levelName,nextLevelName:i.nextLevelName,levelUpDeposit:i.levelUpDeposit,currentDeposit:i.currentDeposit,levelUpPoints:i.levelUpPoints,currentPoints:i.currentPoints},t.descriptionInfo.avatar||t.getDefaultHeadimg(),t.getAllVipList()}))},getAllVipList:function(){var t=this;return c(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$api.memberLevel.getAllLevelAndRebateRate({},(function(e){t.myVipIcon=e.data.find((function(e){return e.name===t.descriptionInfo.levelName})).vipIconImage})),e.next=3,t.$api.my.getAllVIP({},(function(e){t.allVipList=e.data,t.activeIndex=t.allVipList.findIndex((function(e){return e.levelName===t.descriptionInfo.levelName})),t.$refs.mySwiper.swipeTo(t.activeIndex)}));case 3:case"end":return e.stop()}}),e)})))()},onSwipeChange:function(t){this.activeIndex=t},onSwipeTo:function(t){this.activeIndex=t,this.$refs.mySwiper.swipeTo(t)},onSwipePrev:function(){this.$refs.mySwiper.prev()},onSwipeNext:function(){this.$refs.mySwiper.next()},goDetail:function(){this.$router.push("/vipPage")},goBack:function(){this.$router.push("/home")}},created:function(){var t=this;return c(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getDefaultHeadimg(),t.getVIPInfo();case 2:case"end":return e.stop()}}),e)})))()},components:{VipListBox:function(){return i.e("chunk-43c1c695").then(i.bind(null,"8626"))}}},p=l,u=(i("a279"),i("2877")),v=Object(u["a"])(p,n,a,!1,null,null,null);e["default"]=v.exports},c444:function(t,e,i){}}]);