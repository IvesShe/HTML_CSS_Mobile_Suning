(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{9470:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("TheHeader",{staticClass:"transparent",attrs:{"left-arrow":"",leftClick:e.goHome}}),n("div",{staticClass:"logo-img-box"},[n("img",{attrs:{src:s("c011"),alt:""}})]),n("div",{staticClass:"login-form-box"},[n("div",{staticClass:"box-title"},[e._v(e._s(e.$t("register.SignIn")))]),n("div",{staticClass:"box-summery"},[n("p",[e._v(e._s(e.$t("login.UltimateExperience")))])]),n("LineButton",{on:{click:e.lineLogin}}),e._m(0),n("van-form",{ref:"formRef",staticClass:"login-form",attrs:{"validate-trigger":"onChange"},on:{submit:e.onSubmit}},[e._l(e.formFields,(function(t){return n("van-field",e._b({key:t.name,scopedSlots:e._u([{key:"input",fn:function(){return[n("CustomVanFieldInput",{attrs:{useInvisibility:t.useInvisibility,maxlength:t.maxlength,usePrefix:t.usePrefix,useStateIcon:!1,prefixText:t.prefixText,inputClass:t.inputClass,placeholder:t.placeholder,type:t.type},on:{"update:type":function(s){return e.$set(t,"type",s)},input:function(s){return e.onInput(t)},blur:function(e){t.blur&&t.blur(t)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"field.value"}})]},proxy:!0}],null,!0)},"van-field",t,!1))})),n("div",{staticClass:"checkbox-block"},[n("van-checkbox",{attrs:{shape:"square","checked-color":"#4ca3fe"},model:{value:e.isRememberChecked,callback:function(t){e.isRememberChecked=t},expression:"isRememberChecked"}},[e._v(e._s(e.$t("login.RememberPassword")))])],1),n("a",{staticClass:"forget-pwd-link",on:{click:function(t){return t.preventDefault(),e.$router.push({path:"/found1"})}}},[e._v(e._s(e.$t("login.ForgotyourPassword")))]),n("van-button",{staticClass:"submit-btn",attrs:{type:"submit"}},[e._v(e._s(e.$t("login.Login")))]),n("p",{staticClass:"sign-up-link-para"},[e._v(" "+e._s(e.$t("login.NoAccount"))+" "),n("a",{staticClass:"sign-up-link",on:{click:function(t){return t.preventDefault(),e.$router.push({path:"/register"})}}},[e._v(e._s(e.$t("login.FastRegistration")))])])],2)],1),n("van-dialog",{staticClass:"slide-verify",attrs:{showConfirmButton:!1},model:{value:e.isShowVerifyImageDialog,callback:function(t){e.isShowVerifyImageDialog=t},expression:"isShowVerifyImageDialog"}},[n("SlideVerifyWithClose",{ref:"slideContainer",attrs:{imgs:e.imgs},on:{success:e.onImgValidateSuccess,close:e.onSlideVerifyClose}})],1)],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"divider"},[s("span",{staticClass:"divider-front"}),s("span",{staticClass:"divider-text"},[e._v("OR")]),s("span",{staticClass:"divider-end"})])}],a=s("f2dc"),r=s("2f62"),o=s("9059"),l=s("f9a9");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){g(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var f={name:"Login",data(){return{isRememberChecked:!1,verifyCode:1,isShowVerifyImageDialog:!1,isSubmitBtnDisable:!0,imgs:[],formFields:[{name:"username",value:"",label:this.$t("login.MemberAccount"),labelClass:"no-text field-icon-account",useInvisibility:!1,maxlength:10,type:"username",private:!0,placeholder:this.$t("login.AlphanumericAccount"),blur:e=>{e.value=e.value.toUpperCase()},rules:[{required:!0,message:this.$t("login.AccountInputPlaceHolder")},{message:this.$t("login.AccountFormatWarning"),validator:e=>{if(e)return a["a"].THAcountLogin(e).flag}}]},{name:"userpass",value:"",label:this.$t("login.LoginPassword"),labelClass:"no-text field-icon-password",maxlength:16,useInvisibility:!0,type:"password",private:!0,placeholder:this.$t("login.AlphanumericPwd"),rules:[{required:!0,message:this.$t("login.PasswordInputPlaceHolder")},{message:this.$t("login.PwdFormatWarning"),validator:e=>a["a"].THPasswordValid(e).flag}]}]}},created(){localStorage.getItem("username")&&localStorage.getItem("userpass")&&(this.formFields[0].value=localStorage.getItem("username"),this.formFields[1].value=o["a"].decrypt(localStorage.getItem("userpass")),this.isRememberChecked=!0,this.isSubmitBtnDisable=!1),this.imgs=this.$cf.getSlideImg()},methods:c(c({},Object(r["b"])(["doLogin"])),{},{onSubmit(){this.$api.login.verifyCode({body:{username:this.formFields[0].value}},e=>{this.verifyCode=e.data.code,0===this.verifyCode?this.isShowVerifyImageDialog=!0:this.login()})},onInput(){this.$refs.formRef.validate().then(()=>{this.isSubmitBtnDisable=!1}).catch(()=>{this.isSubmitBtnDisable=!0})},login(){this.isRememberChecked&&(localStorage.setItem("username",this.formFields[0].value),localStorage.setItem("userpass",o["a"].encrypt(this.formFields[1].value))),this.$api.login.signin({body:{username:this.formFields[0].value,userpass:this.formFields[1].value}},e=>{this.doLogin(e.data),window.gtag("event","登入"),this.$nextTick().then(()=>{const e=this.$route.query.redirect;e?this.$router.push({path:e}):this.$router.push("/"),this.getMemberDialogMessages(),this.getUnAuthItems()})},e=>{this.$cf.toast(e.message)})},lineLogin(){Object(l["a"])()},onSlideVerifyClose(){this.isShowVerifyImageDialog=!1,this.$refs.slideContainer.$refs.slideblock.reset()},onImgValidateSuccess(){this.isShowVerifyImageDialog=!1;const e=this.$refs.slideContainer.$refs.slideblock;e.reset(),this.login()},getUnAuthItems(){this.$store.dispatch("getPendingAuth",{vm:this})},getMemberDialogMessages(){this.$store.dispatch("showNewMessage",{vm:this})},handleSwitch(e){e?this.formFields[0].value&&this.formFields[1].value&&(localStorage.setItem("username",this.formFields[0].value),localStorage.setItem("userpass",o["a"].encrypt(this.formFields[1].value))):(localStorage.removeItem("username"),localStorage.removeItem("userpass"))},goHome(){this.$router.push("/")}}),components:{CustomVanFieldInput:()=>s.e("chunk-50b477c4").then(s.bind(null,"5623")),SlideVerifyWithClose:()=>s.e("chunk-3c54145e").then(s.bind(null,"cb51")),LineButton:()=>s.e("chunk-d0b69c88").then(s.bind(null,"d1f3"))}},h=f,p=(s("ad52"),s("2877")),d=Object(p["a"])(h,n,i,!1,null,null,null);t["default"]=d.exports},ad52:function(e,t,s){"use strict";var n=s("be7c"),i=s.n(n);i.a},be7c:function(e,t,s){},c011:function(e,t,s){e.exports=s.p+"img/logo.f3296670.svg"},f2dc:function(e,t,s){"use strict";var n=s("72f2");t["a"]={strnumDa6(e){const t=/^[a-zA-Z0-9]{6,}$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入6位以上数字或字母"}},passwordValid(e){const t=/^[a-zA-Z0-9_]{6,}$/,s=new RegExp(t);return{flag:s.test(e),text:"格式須由 6~16 位半形英数字及下底線组成"}},BDYPasswordValid(e){const t=/^[a-zA-Z0-9]{6,16}$/,s=new RegExp(t);return{flag:s.test(e),text:"格式須由 6~16 位半形英数字"}},BFDrawNumber(e){const t=/^[0-9]{4,8}$/,s=new RegExp(t);return{flag:s.test(e),text:"格式错误，请设定 4~8 位数字密码"}},BDYDrawNumber(e){const t=/^[0-9]{6,}$/,s=new RegExp(t);return{flag:s.test(e),text:"格式错误，请设定 6 位数字密码"}},BFAccount(e){const t=/^BF[a-zA-Z0-9]{4,}$/,s=new RegExp(t);return{flag:s.test(e),text:"帐号格式必须为BF开头且符合 6~14 位"}},EDFAccount(e){const t=/^EDF[a-zA-Z0-9]{4,}$/,s=new RegExp(t);return{flag:s.test(e),text:"帐号格式必须为EDF开头且符合 6~14 位"}},BDYAcount(e){const t=/^[a-zA-Z0-9]{4,12}$/,s=new RegExp(t);return{flag:s.test(e),text:"帐号长度必须为 4~12 位半形英数字"}},THAcount(e){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9]{6,10}$/,s=new RegExp(t);return{flag:s.test(e),text:"账号格式为6-10位英文+数字的組合"}},THAcountLogin(e){const t=/^[a-zA-Z0-9]{6,10}$/,s=new RegExp(t);return{flag:s.test(e),text:"账号格式为6-10位英文+数字的組合"}},LOAccountLogin(e){const t=/^LE[a-zA-Z0-9]{6,10}$/,s=new RegExp(t);return{flag:s.test(e),text:"帐号格式必须为LE开头且符合 8~12 位"}},THPasswordValid(e){const t=/^[a-zA-Z0-9_]{6,16}$/,s=new RegExp(t);return{flag:s.test(e),text:"密码格式为6-16位英数字及 '_'"}},THRealName(e){const t=/^[a-zA-Z\u4E00-\u9FA5\u0E01-\u0E5B ]{2,128}$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入汉字"}},phoneNum(e,t,s,n){let i;if(e){i=s?this[s.ruleName](e,t,n):this.phoneNumRuleCN(e,t,n);const a=s?this[s.blackRuleName](e,t,n):this.phoneBlackListCN(e,t,n);return a.flag||(i=a),i}},phoneNumRuleTH(e){const t=/^\d{9,10}$/,s=new RegExp(t);return{flag:s.test(e),text:"手机号码格式错误"}},phoneNumRuleCN(e){const t=/^1\d{10}$/,s=new RegExp(t);return{flag:s.test(e)&&11===e.length&&e.startsWith("1"),text:"手机号码格式错误"}},phoneBlackListCN(e,t,s){t=t||n["a"].state.notAllowPhoneNumber,s=s||n["a"].state.nationCode;let i=s;s||(i=""===s?"86":"66");const a=[];let r=!0;t.split("|").forEach(e=>{const t=e.split("-");t.length<2&&(r=!1),t[0]===i&&a.push(t[1])});const o=r?a.join("|"):t,l=`^(${o}){1,}[0-9]{8,9}$`,u=new RegExp(l);return{flag:!u.test(e)&&11===e.length&&e.startsWith("1"),text:"手机号码无法使用，请联系客服"}},phoneBlackListTH(e,t,s){t=t||n["a"].state.notAllowPhoneNumber,s=s||n["a"].state.nationCode;let i=s;s||(i=""===s?"86":"66");const a=[];let r=!0;t.split("|").forEach(e=>{const t=e.split("-");t.length<2&&(r=!1),t[0]===i&&a.push(t[1])});const o=r?a.join("|"):t,l=`^(${o}){1,}[0-9]{6,8}$`,u=new RegExp(l);return{flag:!u.test(e),text:"手机号码无法使用，请联系客服"}},email(e){const t=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入正确的邮箱号码格式"}},yuming(e){const t=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\/.?/,s=new RegExp(t);return{flag:s.test(e),text:"请输入正确的域名格式"}},shenfenz(e){const t=/(^d{15}$)|(^d{17}([0-9]|X)$)/,s=new RegExp(t);return{flag:s.test(e),text:"请输入正确的身份证号码格式"}},number(e){const t=/^[0-9]*$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入数字"}},hanzi(e){const t=/^[\u4e00-\u9fa5·．]{0,}$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入汉字"}},BDYRealName(e){const t=/^[\u4e00-\u9fa5·．]{2,}$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入汉字"}},strnum(e){const t=/^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$/,s=new RegExp(t);return{flag:s.test(e),text:"请输入数字或字母"}},noFullWidth(e){const t=/[\uff00-\uffff]/g,s=new RegExp(t);return{flag:!s.test(e),text:"格式错误，不可包含全形"}},validYoung(e){const t=new Date,s=new Date(e);let n=t.getFullYear()-s.getFullYear();const i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&(n-=1),{flag:n>=18,text:"未满18岁，无法注册"}},specialCharacters(e){const t=/^[A-Za-z0-9\u4e00-\u9fa5]{1,20}$/,s=new RegExp(t);return{flag:s.test(e),text:"格式错误，限中、英、数字"}}}},f9a9:function(e,t,s){"use strict";const n=()=>{const e=""+window.location.origin;let t="https://access.line.me/oauth2/v2.1/authorize?";t+="response_type=code",t+="&client_id=1656312487",t+="&redirect_uri="+e,t+="&state=123456789",t+="&scope=profile%20openid%20email",t+="&bot_prompt=aggressive",window.open(t,"_self")};t["a"]=n}}]);